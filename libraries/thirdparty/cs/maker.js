/**
 * Modules in this bundle
 * @license
 *
 * makerjs:
 *   license: Apache-2.0 (http://opensource.org/licenses/Apache-2.0)
 *   author: Dan Marshall / Microsoft Corporation
 *   maintainers: Dan Marshall <danmar@microsoft.com>
 *   homepage: https://maker.js.org
 *   version: 0.18.1
 *
 * browserify:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: James Halliday <mail@substack.net>
 *   version: 17.0.0
 *
 * clone:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Paul Vorbach <paul@vorba.ch> (http://paul.vorba.ch/)
 *   contributors: Blake Miner <miner.blake@gmail.com> (http://www.blakeminer.com/), Tian You <axqd001@gmail.com> (http://blog.axqd.net/), George Stagas <gstagas@gmail.com> (http://stagas.com/), Tobiasz Cudnik <tobiasz.cudnik@gmail.com> (https://github.com/TobiaszCudnik), Pavel Lang <langpavel@phpskelet.org> (https://github.com/langpavel), Dan MacTough (http://yabfog.com/), w1nk (https://github.com/w1nk), Hugh Kennedy (http://twitter.com/hughskennedy), Dustin Diaz (http://dustindiaz.com), Ilya Shaisultanov (https://github.com/diversario), Nathan MacInnes <nathan@macinn.es> (http://macinn.es/), Benjamin E. Coe <ben@npmjs.com> (https://twitter.com/benjamincoe), Nathan Zadoks (https://github.com/nathan7), Róbert Oroszi <robert+gh@oroszi.net> (https://github.com/oroce), Aurélio A. Heckert (http://softwarelivre.org/aurium), Guy Ellis (http://www.guyellisrocks.com/)
 *   version: 1.0.4
 *
 * graham_scan:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Brian Barnett <brian@3kb.co.uk>
 *   homepage: http://brian3kb.github.io/graham_scan_js
 *   version: 1.0.4
 *
 * kdbush:
 *   license: ISC (http://opensource.org/licenses/ISC)
 *   author: Vladimir Agafonkin
 *   version: 2.0.1
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */
var require=function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return i(t[o][1][e]||e)}),c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){},{}],2:[function(e,t,n){(function(e){(function(){var n=function(){"use strict";function t(n,i,a,o){"object"==typeof i&&(a=i.depth,o=i.prototype,i.filter,i=i.circular);var s=[],u=[],l=void 0!==e;return void 0===i&&(i=!0),void 0===a&&(a=1/0),function n(a,c){if(null===a)return null;if(0==c)return a;var p,h;if("object"!=typeof a)return a;if(t.__isArray(a))p=[];else if(t.__isRegExp(a))p=new RegExp(a.source,r(a)),a.lastIndex&&(p.lastIndex=a.lastIndex);else if(t.__isDate(a))p=new Date(a.getTime());else{if(l&&e.isBuffer(a))return p=e.allocUnsafe?e.allocUnsafe(a.length):new e(a.length),a.copy(p),p;void 0===o?(h=Object.getPrototypeOf(a),p=Object.create(h)):(p=Object.create(o),h=o)}if(i){var f=s.indexOf(a);if(-1!=f)return u[f];s.push(a),u.push(p)}for(var d in a){var v;h&&(v=Object.getOwnPropertyDescriptor(h,d)),v&&null==v.set||(p[d]=n(a[d],c-1))}return p}(n,a)}function n(e){return Object.prototype.toString.call(e)}function r(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return t.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},t.__objToStr=n,t.__isDate=function(e){return"object"==typeof e&&"[object Date]"===n(e)},t.__isArray=function(e){return"object"==typeof e&&"[object Array]"===n(e)},t.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===n(e)},t.__getRegExpFlags=r,t}();"object"==typeof t&&t.exports&&(t.exports=n)}).call(this)}).call(this,e("buffer").Buffer)},{buffer:1}],3:[function(e,t,n){function r(){this.anchorPoint=void 0,this.reverse=!1,this.points=[]}r.prototype={constructor:r,Point:function(e,t){this.x=e,this.y=t},_findPolarAngle:function(e,t){var n,r;if(!e||!t)return 0;if(n=t.x-e.x,r=t.y-e.y,0==n&&0==r)return 0;var i=57.295779513082*Math.atan2(r,n);return this.reverse?0>=i&&(i+=360):i>=0&&(i+=360),i},addPoint:function(e,t){return void 0===this.anchorPoint?void(this.anchorPoint=new this.Point(e,t)):this.anchorPoint.y>t&&this.anchorPoint.x>e||this.anchorPoint.y===t&&this.anchorPoint.x>e||this.anchorPoint.y>t&&this.anchorPoint.x===e?(this.points.push(new this.Point(this.anchorPoint.x,this.anchorPoint.y)),void(this.anchorPoint=new this.Point(e,t))):void this.points.push(new this.Point(e,t))},_sortPoints:function(){var e=this;return this.points.sort((function(t,n){var r=e._findPolarAngle(e.anchorPoint,t),i=e._findPolarAngle(e.anchorPoint,n);return i>r?-1:r>i?1:0}))},_checkPoints:function(e,t,n){var r=this._findPolarAngle(e,t),i=this._findPolarAngle(e,n);return r>i?!(r-i>180):!(i>r)||i-r>180},getHull:function(){var e,t,n=[];if(this.reverse=this.points.every((function(e){return e.x<0&&e.y<0})),3>(t=(e=this._sortPoints()).length))return e.unshift(this.anchorPoint),e;for(n.push(e.shift(),e.shift());;){var r,i,a;if(n.push(e.shift()),r=n[n.length-3],i=n[n.length-2],a=n[n.length-1],this._checkPoints(r,i,a)&&n.splice(n.length-2,1),0==e.length){if(t==n.length){var o=this.anchorPoint;return n=n.filter((function(e){return!!e})),n.some((function(e){return e.x==o.x&&e.y==o.y}))||n.unshift(this.anchorPoint),n}t=(e=n).length,(n=[]).push(e.shift(),e.shift())}}}},"function"==typeof define&&define.amd&&define((function(){return r})),void 0!==t&&(t.exports=r)},{}],4:[function(e,t,n){var r,i;r=this,i=function(){"use strict";function e(n,r,i,a,o,s){if(!(o-a<=i)){var u=Math.floor((a+o)/2);t(n,r,u,a,o,s%2),e(n,r,i,a,u-1,s+1),e(n,r,i,u+1,o,s+1)}}function t(e,r,i,a,o,s){for(;o>a;){if(o-a>600){var u=o-a+1,l=i-a+1,c=Math.log(u),p=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*p*(u-p)/u)*(l-u/2<0?-1:1);t(e,r,i,Math.max(a,Math.floor(i-l*p/u+h)),Math.min(o,Math.floor(i+(u-l)*p/u+h)),s)}var f=r[2*i+s],d=a,v=o;for(n(e,r,a,i),r[2*o+s]>f&&n(e,r,a,o);d<v;){for(n(e,r,d,v),d++,v--;r[2*d+s]<f;)d++;for(;r[2*v+s]>f;)v--}r[2*a+s]===f?n(e,r,a,v):n(e,r,++v,o),v<=i&&(a=v+1),i<=v&&(o=v-1)}}function n(e,t,n,i){r(e,n,i),r(t,2*n,2*i),r(t,2*n+1,2*i+1)}function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function i(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}function a(t,n,r,i,a){n=n||o,r=r||s,a=a||Array,this.nodeSize=i||64,this.points=t,this.ids=new a(t.length),this.coords=new a(2*t.length);for(var u=0;u<t.length;u++)this.ids[u]=u,this.coords[2*u]=n(t[u]),this.coords[2*u+1]=r(t[u]);e(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function o(e){return e[0]}function s(e){return e[1]}return a.prototype={range:function(e,t,n,r){return function(e,t,n,r,i,a,o){for(var s,u,l=[0,e.length-1,0],c=[];l.length;){var p=l.pop(),h=l.pop(),f=l.pop();if(h-f<=o)for(var d=f;d<=h;d++)s=t[2*d],u=t[2*d+1],s>=n&&s<=i&&u>=r&&u<=a&&c.push(e[d]);else{var v=Math.floor((f+h)/2);s=t[2*v],u=t[2*v+1],s>=n&&s<=i&&u>=r&&u<=a&&c.push(e[v]);var g=(p+1)%2;(0===p?n<=s:r<=u)&&(l.push(f),l.push(v-1),l.push(g)),(0===p?i>=s:a>=u)&&(l.push(v+1),l.push(h),l.push(g))}}return c}(this.ids,this.coords,e,t,n,r,this.nodeSize)},within:function(e,t,n){return function(e,t,n,r,a,o){for(var s=[0,e.length-1,0],u=[],l=a*a;s.length;){var c=s.pop(),p=s.pop(),h=s.pop();if(p-h<=o)for(var f=h;f<=p;f++)i(t[2*f],t[2*f+1],n,r)<=l&&u.push(e[f]);else{var d=Math.floor((h+p)/2),v=t[2*d],g=t[2*d+1];i(v,g,n,r)<=l&&u.push(e[d]);var m=(c+1)%2;(0===c?n-a<=v:r-a<=g)&&(s.push(h),s.push(d-1),s.push(m)),(0===c?n+a>=v:r+a>=g)&&(s.push(d+1),s.push(p),s.push(m))}}return u}(this.ids,this.coords,e,t,n,this.nodeSize)}},function(e,t,n,r,i){return new a(e,t,n,r,i)}},"object"==typeof n&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):r.kdbush=i()},{}],makerjs:[function(require,module,exports){var MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs,MakerJs;(function(MakerJs){MakerJs.version="debug",MakerJs.environmentTypes={BrowserUI:"browser",NodeJs:"node",WebWorker:"worker",Unknown:"unknown"};var EPSILON=Number.EPSILON||Math.pow(2,-52);function tryEval(name){try{var value=eval(name);return value}catch(e){}}function detectEnvironment(){return tryEval("WorkerGlobalScope")&&tryEval("self")?MakerJs.environmentTypes.WebWorker:tryEval("window")&&tryEval("document")?MakerJs.environmentTypes.BrowserUI:tryEval("global")&&tryEval("process")?MakerJs.environmentTypes.NodeJs:MakerJs.environmentTypes.Unknown}function split(e,t){var n=e.indexOf(t);return n<0?[e]:n>0?[e.substr(0,n),e.substr(n+1)]:["",e]}function splitDecimal(e){var t=e.toString();return t.indexOf("e")>0&&(t=e.toFixed(20).match(/.*[^(0+$)]/)[0]),split(t,".")}function round(e,t){if(void 0===t&&(t=1e-7),e%1==0)return e;var n=1/t;return Math.round((e+EPSILON)*n)/n}function createRouteKey(e){for(var t=[],n=0;n<e.length;n++){var r,i=e[n];r=n%2==0?(n>0?".":"")+i:JSON.stringify([i]),t.push(r)}return t.join("")}function travel(e,t){if(!e||!t)return null;for(var n=(Array.isArray(t)?t:JSON.parse(t)).slice(),r=e,i=e.origin||[0,0];n.length;){if(!(r=r[n.shift()]))return null;r.origin&&n.length&&(i=MakerJs.point.add(i,r.origin))}return{result:r,offset:i}}MakerJs.environment=detectEnvironment(),MakerJs.unitType={Centimeter:"cm",Foot:"foot",Inch:"inch",Meter:"m",Millimeter:"mm"},MakerJs.splitDecimal=splitDecimal,MakerJs.round=round,MakerJs.createRouteKey=createRouteKey,MakerJs.travel=travel;var clone=require("clone");function cloneObject(e){return clone(e)}function extendObject(e,t){if(e&&t)for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e}function isPoint(e){return e&&Array.isArray(e)&&2==e.length&&isNumber(e[0])&&isNumber(e[1])}function isPath(e){return e&&e.type&&isPoint(e.origin)}function isPathLine(e){return isPath(e)&&e.type==MakerJs.pathType.Line&&isPoint(e.end)}function isPathCircle(e){return isPath(e)&&e.type==MakerJs.pathType.Circle&&isNumber(e.radius)}function isPathArc(e){return isPath(e)&&e.type==MakerJs.pathType.Arc&&isNumber(e.radius)&&isNumber(e.startAngle)&&isNumber(e.endAngle)}function isPathArcInBezierCurve(e){return isPathArc(e)&&isObject(e.bezierData)&&isNumber(e.bezierData.startT)&&isNumber(e.bezierData.endT)}function isModel(e){return e&&(e.paths||e.models)}function isChain(e){var t=e;return t&&t.links&&Array.isArray(t.links)&&isNumber(t.pathLength)}MakerJs.cloneObject=cloneObject,MakerJs.extendObject=extendObject,MakerJs.isFunction=isFunction,MakerJs.isNumber=isNumber,MakerJs.isObject=isObject,MakerJs.isPoint=isPoint,MakerJs.isPath=isPath,MakerJs.isPathLine=isPathLine,MakerJs.isPathCircle=isPathCircle,MakerJs.isPathArc=isPathArc,MakerJs.isPathArcInBezierCurve=isPathArcInBezierCurve,MakerJs.pathType={Line:"line",Circle:"circle",Arc:"arc",BezierSeed:"bezier-seed"},MakerJs.isModel=isModel,MakerJs.isChain=isChain;var Cascade=function(){function e(e,t){for(var n in this._module=e,this.$initial=t,this._module)this._shadow(n);this.$result=t}return e.prototype._shadow=function(e){var t=this;this[e]=function(){return t._apply(t._module[e],arguments)}},e.prototype._apply=function(e,t){var n=[].slice.call(t);return n.unshift(this.$result),this.$result=e.apply(void 0,n),this},e.prototype.$reset=function(){return this.$result=this.$initial,this},e}();function $(e){return isModel(e)?new Cascade(MakerJs.model,e):isPath(e)?new Cascade(MakerJs.path,e):isPoint(e)?new Cascade(MakerJs.point,e):void 0}MakerJs.$=$})(MakerJs||(MakerJs={})),module.exports=MakerJs,function(e){!function(t){function n(t,n){return t<0&&n<0||t>0&&n>0?function(t,n){return n?+(e.splitDecimal(t)[0]+"."+n):t}(n,(r=t,e.splitDecimal(r)[1])):n;var r}function r(e){var t=Math.floor(e/360);return 0===t?e:n(e,e-360*t)}function i(e){return 180*e/Math.PI}function a(n){var i=t.ofArcEnd(n)-n.startAngle;return e.round(i)>360?r(i):i}function o(e){return r(i(s(e.origin,e.end)))}function s(t,n){var r=e.point.subtract(n,t),i=r[0],a=r[1];return Math.atan2(-a,-i)+Math.PI}t.noRevolutions=r,t.toRadians=function(e){return r(e)*Math.PI/180},t.toDegrees=i,t.ofArcEnd=function(e){if(e.endAngle<e.startAngle){var t=360*Math.ceil((e.startAngle-e.endAngle)/360)+e.endAngle;return n(e.endAngle,t)}return e.endAngle},t.ofArcMiddle=function(e,t){return void 0===t&&(t=.5),e.startAngle+a(e)*t},t.ofArcSpan=a,t.ofLineInDegrees=o,t.ofPointInDegrees=function(e,t){return i(s(e,t))},t.ofPointInRadians=s,t.mirror=function(e,t,n){return n&&(e=360-e),t&&(e=(e<180?180:540)-e),e};var u={};u[e.pathType.Arc]=function(t,n,r){var i=n!=r,a=i?t.endAngle-90:t.startAngle+90,o=e.point.fromArc(t)[i?1:0],s=e.point.rotate(e.point.add(o,[t.radius,0]),a,o);return new e.paths.Line(n?[s,o]:[o,s])},u[e.pathType.Line]=function(t,n,r){return r?new e.paths.Line(t.end,t.origin):t},t.ofChainLinkJoint=function(e,t){if(arguments.length<2)return null;var n=[e,t].map((function(e,t){return function(e,t){if(e){var n=e.walkedPath.pathContext,r=u[n.type];if(r)return r(n,t,e.reversed)}}(e,0===t)})),i=r(o(n[1])-o(n[0]));return i>180&&(i-=360),i}}(e.angle||(e.angle={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t,n){var i=r(e);if(!t)return i;for(var a=2;a--;)n?i[a]-=t[a]:i[a]+=t[a];return i}function r(e){return e?[e[0],e[1]]:t.zero()}t.add=n,t.average=function(e,t){function n(n){return(e[n]+t[n])/2}return[n(0),n(1)]},t.clone=r,t.closest=function(t,n){for(var r={index:0,distance:-1},i=0;i<n.length;i++){var a=e.measure.pointDistance(t,n[i]);(-1==r.distance||a<r.distance)&&(r.distance=a,r.index=i)}return n[r.index]};var i={};i[Math.PI/2]=!0,i[3*Math.PI/2]=!0;var a={};function o(t,n){return[t in i?0:e.round(n*Math.cos(t)),t in a?0:e.round(n*Math.sin(t))]}function s(t,r){return n(r.origin,o(e.angle.toRadians(t),r.radius))}a[Math.PI]=!0,a[2*Math.PI]=!0,t.fromPolar=o,t.fromAngleOnCircle=s,t.fromArc=function(e){return[s(e.startAngle,e),s(e.endAngle,e)]};var u={};function l(e,t){var n=e.origin[0];return[n,t.slope*n+t.yIntercept]}function c(n,r){return t.add(n.origin,t.fromPolar(e.angle.toRadians(r),n.radius))}u[e.pathType.Arc]=function(e){return t.fromArc(e)},u[e.pathType.Line]=function(e){return[e.origin,e.end]},u[e.pathType.BezierSeed]=u[e.pathType.Line],t.fromPathEnds=function(e,t){var r=null,i=u[e.type];return i&&(r=i(e),t&&(r=r.map((function(e){return n(e,t)})))),r},t.fromSlopeIntersection=function(t,n,r){void 0===r&&(r={});var i,a=e.measure.lineSlope(t),o=e.measure.lineSlope(n);if(e.measure.isSlopeParallel(a,o))return e.measure.isSlopeEqual(a,o)&&(r.out_AreOverlapped=e.measure.isLineOverlapping(t,n,r.excludeTangents)),null;if(a.hasSlope)if(o.hasSlope){var s=(o.yIntercept-a.yIntercept)/(a.slope-o.slope);i=[s,a.slope*s+a.yIntercept]}else i=l(n,a);else i=l(t,o);return i};var p={};p[e.pathType.Arc]=function(t,n){return c(t,e.angle.ofArcMiddle(t,n))},p[e.pathType.Circle]=function(e,t){return c(e,360*t)},p[e.pathType.Line]=function(e,t){function n(e,n){return e+(n-e)*t}return[n(e.origin[0],e.end[0]),n(e.origin[1],e.end[1])]},p[e.pathType.BezierSeed]=function(t,n){return e.models.BezierCurve.computePoint(t,n)},t.middle=function(e,t){void 0===t&&(t=.5);var n=null,r=p[e.type];return r&&(n=r(e,t)),n},t.mirror=function(e,t,n){var i=r(e);return t&&(i[0]=-i[0]),n&&(i[1]=-i[1]),i},t.rounded=function(t,n){return[e.round(t[0],n),e.round(t[1],n)]},t.rotate=function(t,r,i){void 0===i&&(i=[0,0]);var a=e.angle.ofPointInRadians(i,t),s=e.measure.pointDistance(i,t);return n(i,o(a+e.angle.toRadians(r),s))},t.scale=function(e,t){for(var n=r(e),i=2;i--;)n[i]*=t;return n},t.distort=function(e,t,n){return[e[0]*t,e[1]*n]},t.subtract=function(e,t){return n(e,t,!0)},t.zero=function(){return[0,0]}}(e.point||(e.point={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t){e&&t&&void 0!==e.layer&&(t.layer=e.layer),e&&t&&"bezierData"in e&&(t.bezierData=e.bezierData)}t.addTo=function(t,n,r,i){return void 0===i&&(i=!1),e.model.addPath(n,t,r,i),t};var r={};r[e.pathType.Circle]=function(e,t,n){t.radius=e.radius},r[e.pathType.Arc]=function(t,n,i){r[e.pathType.Circle](t,n,i),n.startAngle=t.startAngle,n.endAngle=t.endAngle},r[e.pathType.Line]=function(t,n,r){n.end=e.point.add(t.end,r)},r[e.pathType.BezierSeed]=function(t,n,i){r[e.pathType.Line](t,n,i),n.controls=t.controls.map((function(t){return e.point.add(t,i)}))},t.clone=function(t,i){var a={type:t.type,origin:e.point.add(t.origin,i)},o=r[t.type];return o&&o(t,a,i),n(t,a),a},t.copyProps=function(t,i){var a=r[t.type];return a&&(i.origin=e.point.clone(t.origin),a(t,i)),n(t,i),t};var i={};i[e.pathType.Line]=function(t,n,r,i){return new e.paths.Line(n,e.point.mirror(t.end,r,i))},i[e.pathType.Circle]=function(t,n,r,i){return new e.paths.Circle(n,t.radius)},i[e.pathType.Arc]=function(t,n,r,i){var a=e.angle.mirror(t.startAngle,r,i),o=e.angle.mirror(e.angle.ofArcEnd(t),r,i),s=r!=i;return new e.paths.Arc(n,t.radius,s?o:a,s?a:o)},i[e.pathType.BezierSeed]=function(t,n,r,a){var o=i[e.pathType.Line](t,n,r,a);return o.type=e.pathType.BezierSeed,o.controls=t.controls.map((function(t){return e.point.mirror(t,r,a)})),o},t.layer=function(e,t){return e.layer=t,e},t.mirror=function(t,r,a){var o=null;if(t){var s=e.point.mirror(t.origin,r,a),u=i[t.type];u&&(o=u(t,s,r,a))}return n(t,o),o};var a={};function o(e,t){if(e){var n=a[e.type];n&&n(e,t),e.origin=t}return e}a[e.pathType.Line]=function(t,n){var r=e.point.subtract(t.end,t.origin);t.end=e.point.add(n,r)},t.move=o;var s={};function u(t,n,r){if(t&&n){t.origin=e.point.add(t.origin,n,r);var i=s[t.type];i&&i(t,n,r)}return t}s[e.pathType.Line]=function(t,n,r){t.end=e.point.add(t.end,n,r)},s[e.pathType.BezierSeed]=function(t,n,r){s[e.pathType.Line](t,n,r),t.controls=t.controls.map((function(t){return e.point.add(t,n,r)}))},t.moveRelative=u,t.moveTemporary=function(e,t,n){var r=!1;function i(e,n){t[n]&&u(e,t[n],r)}e.map(i),n(),r=!0,e.map(i)};var l={};l[e.pathType.Line]=function(t,n,r){t.end=e.point.rotate(t.end,n,r)},l[e.pathType.Arc]=function(t,n,r){t.startAngle=e.angle.noRevolutions(t.startAngle+n),t.endAngle=e.angle.noRevolutions(t.endAngle+n)},l[e.pathType.BezierSeed]=function(t,n,r){l[e.pathType.Line](t,n,r),t.controls=t.controls.map((function(t){return e.point.rotate(t,n,r)}))},t.rotate=function(t,n,r){if(void 0===r&&(r=[0,0]),!t||!n)return t;t.origin=e.point.rotate(t.origin,n,r);var i=l[t.type];return i&&i(t,n,r),t};var c={};c[e.pathType.Line]=function(t,n){t.end=e.point.scale(t.end,n)},c[e.pathType.BezierSeed]=function(t,n){c[e.pathType.Line](t,n),t.controls=t.controls.map((function(t){return e.point.scale(t,n)}))},c[e.pathType.Circle]=function(e,t){e.radius*=t},c[e.pathType.Arc]=c[e.pathType.Circle],t.scale=function(t,n){if(!t||1===n||!n)return t;t.origin=e.point.scale(t.origin,n);var r=c[t.type];return r&&r(t,n),t};var p={};p[e.pathType.Arc]=function(t,n,r){return new e.models.EllipticArc(t,n,r)},p[e.pathType.Circle]=function(t,n,r){var i=new e.models.Ellipse(t.radius*n,t.radius*r);return i.origin=e.point.distort(t.origin,n,r),i},p[e.pathType.Line]=function(t,n,r){return new e.paths.Line([t.origin,t.end].map((function(t){return e.point.distort(t,n,r)})))},p[e.pathType.BezierSeed]=function(t,n,r){var i=e.point.distort;return{type:e.pathType.BezierSeed,origin:i(t.origin,n,r),controls:t.controls.map((function(e){return i(e,n,r)})),end:i(t.end,n,r)}},t.distort=function(e,t,n){if(!e||!t||!n)return null;var r=p[e.type];if(r){var i=r(e,t,n);return void 0!==e.layer&&(i.layer=e.layer),i}return null},t.converge=function(t,n,r,i){var a=e.point.fromSlopeIntersection(t,n);if(a){var o=[t,n],s=[r,i];2===arguments.length&&o.forEach((function(t,n){s[n]=e.point.closest(a,[t.origin,t.end])===t.origin})),o.forEach((function(e,t){!function(e,t){var n;(n=t?e.origin:e.end)[0]=a[0],n[1]=a[1]}(e,s[t])}))}return a};var h={};function f(t,n){if(1==n)return[e.point.middle(t)];var r=[],i=n;t.type!=e.pathType.Circle&&i--;for(var a=0;a<n;a++)r.push(e.point.middle(t,a/i));return r}h[e.pathType.Arc]=function(t,n,r,i){var a=e.angle.ofArcSpan(t),o=(n+r)*a/n-a;i?t.startAngle-=o:t.endAngle+=o},h[e.pathType.Circle]=function(e,t,n,r){e.radius*=(t+n)/t},h[e.pathType.Line]=function(t,n,r,i){var a=e.point.scale(e.point.subtract(t.end,t.origin),r/n);i?t.origin=e.point.subtract(t.origin,a):t.end=e.point.add(t.end,a)},t.alterLength=function(t,n,r){if(void 0===r&&(r=!1),!t||!n)return null;var i=h[t.type];if(i){var a=e.measure.pathLength(t);return!a||-n>=a?null:(i(t,a,n,r),t)}return null},t.toPoints=f;var d={};d[e.pathType.Line]=function(e){return 2},d[e.pathType.Circle]=function(t,n){var r=e.measure.pathLength(t);return r?(n=n||r,Math.max(8,Math.ceil(r/(n||r)))):0},d[e.pathType.Arc]=function(t,n){var r=e.measure.pathLength(t);if(!r)return 0;var i=Math.ceil(e.angle.ofArcSpan(t)/45)+1;return Math.max(i,Math.ceil(r/(n||r)))},t.toKeyPoints=function t(n,r){if(n.type==e.pathType.BezierSeed){var i,a=new e.models.BezierCurve(n);return e.model.findChains(a,(function(n,r,a){if(1==n.length){var o=n[0];switch(o.links[0].walkedPath.pathId){case"arc_0":case"line_0":break;default:e.chain.reverse(o)}i=e.chain.toKeyPoints(o)}else 1===r.length&&(i=t(r[0].pathContext))})),i}var o=d[n.type];if(o){var s=o(n,r);if(s)return f(n,s)}return[]},t.center=function(t){var n=e.measure.pathExtents(t),r=e.point.average(n.high,n.low);return o(t,e.point.subtract(t.origin||[0,0],r)),t},t.zero=function(t){var n=e.measure.pathExtents(t);return o(t,e.point.subtract(t.origin||[0,0],n.low)),t}}(e.path||(e.path={}))}(MakerJs||(MakerJs={})),function(e){var t,n;t=e.path||(e.path={}),(n={})[e.pathType.Arc]=function(t,n){var r=e.angle.ofPointInDegrees(t.origin,n);if(e.measure.isAngleEqual(r,t.startAngle)||e.measure.isAngleEqual(r,t.endAngle))return null;var i=function(){for(var n=e.angle.noRevolutions(t.startAngle),i=n+e.angle.ofArcEnd(t)-t.startAngle,a=[0,1,-1],o=0;o<a.length;o++){var s=360*a[o];if(e.measure.isBetween(r+s,n,i,!0))return t.startAngle+r+s-n}return null}();if(null==i)return null;var a=t.endAngle;t.endAngle=i;var o=e.cloneObject(t);return o.startAngle=i,o.endAngle=a,o},n[e.pathType.Circle]=function(t,n){t.type=e.pathType.Arc;var r=t,i=e.angle.ofPointInDegrees(t.origin,n);return r.startAngle=i,r.endAngle=i+360,null},n[e.pathType.Line]=function(t,n){if(!e.measure.isBetweenPoints(n,t,!0))return null;var r=t.end;t.end=n;var i=e.cloneObject(t);return i.origin=n,i.end=r,i},t.breakAtPoint=function(e,t){if(e&&t){var r=n[e.type];if(r){var i=r(e,t);return i&&"layer"in e&&(i.layer=e.layer),i}}return null}}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(){for(var t,n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];function o(t){var n=e.angle.ofPointInDegrees(t,i[p?1:0]),r=e.angle.ofPointInDegrees(t,i[p?0:1]);return r<n&&(r+=360),{origin:t,startAngle:n,endAngle:r,size:r-n}}switch(i.length){case 5:var s=i[0],u=i[1];this.radius=i[2];var l,c=i[3],p=i[4],h=e.measure.pointDistance(s,u)/2;if(e.round(this.radius-h)<=0)this.radius=h,l=o(e.point.average(s,u));else{for(var f=null!==(n=null===(t=e.path.intersection(new r(s,this.radius),new r(u,this.radius)))||void 0===t?void 0:t.intersectionPoints)&&void 0!==n?n:[s,u],d=[],v=f.length;v--;)l=o(f[v]),0==d.length||l.size>d[0].size?d.push(l):d.unshift(l);l=d[c?1:0]}this.origin=l.origin,this.startAngle=l.startAngle,this.endAngle=l.endAngle;break;case 4:this.origin=i[0],this.radius=i[1],this.startAngle=i[2],this.endAngle=i[3];break;case 3:if(e.isPoint(i[2])){r.apply(this,i);for(var g=[],m=0;m<3;m++)g.push(e.angle.ofPointInDegrees(this.origin,i[m]));this.startAngle=g[0],this.endAngle=g[2],e.measure.isBetweenArcAngles(g[1],this,!1)||(this.startAngle=g[2],this.endAngle=g[0]);break}case 2:p=i[2],r.call(this,i[0],i[1]),this.startAngle=e.angle.ofPointInDegrees(this.origin,i[p?1:0]),this.endAngle=e.angle.ofPointInDegrees(this.origin,i[p?0:1])}this.type=e.pathType.Arc};t.Arc=n;var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];switch(this.type=e.pathType.Circle,t.length){case 1:this.origin=[0,0],this.radius=t[0];break;case 2:e.isNumber(t[1])?(this.origin=t[0],this.radius=t[1]):(this.origin=e.point.average(t[0],t[1]),this.radius=e.measure.pointDistance(this.origin,t[0]));break;default:for(var r=[new i(t[0],t[1]),new i(t[1],t[2])],a=[],o=2;o--;){var s=e.point.middle(r[o]);a.push(e.path.rotate(r[o],90,s))}var u=e.point.fromSlopeIntersection(a[0],a[1]);if(!u)throw"invalid parameters - attempted to construct a circle from 3 points on a line: "+JSON.stringify(t);this.origin=u,this.radius=e.measure.pointDistance(this.origin,t[0])}};t.Circle=r;var i=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];switch(this.type=e.pathType.Line,t.length){case 1:var r=t[0];this.origin=r[0],this.end=r[1];break;case 2:this.origin=t[0],this.end=t[1]}};t.Line=i;var a=function(t){var n=e.point.fromArc(t);this.type=e.pathType.Line,this.origin=n[0],this.end=n[1]};t.Chord=a;var o=function(t,n,r){this.type=e.pathType.Line,this.origin=e.point.clone(t.origin),this.end=e.point.clone(t.end);var i=e.angle.ofLineInDegrees(this);function a(a){var o=e.point.add(t.origin,e.point.fromPolar(e.angle.toRadians(i+a),n));return{origin:o,nearness:e.measure.pointDistance(o,r)}}var o=[a(-90),a(90)],s=o[0].nearness<o[1].nearness?o[0].origin:o[1].origin;e.path.move(this,s)};t.Parallel=o}(e.paths||(e.paths={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t,n,r){void 0===r&&(r=!1);var i=r?n:o(e,n);return e.paths=e.paths||{},e.paths[i]=t,e}function r(e,t,n,r){void 0===r&&(r=!1);var i=r?n:a(e,n);return e.models=e.models||{},e.models[i]=t,e}function i(e,t){if(!e)return t;for(var n=0,r=t;r in e;)r=[t,++n].join("_");return r}function a(e,t){return i(e.models,t)}function o(e,t){return i(e.paths,t)}function s(t,n,r){if(void 0===r&&(r=!1),r&&t.origin&&(t.origin=e.point.scale(t.origin,n)),t.type===e.models.BezierCurve.typeName&&e.path.scale(t.seed,n),t.paths)for(var i in t.paths)e.path.scale(t.paths[i],n);if(t.models)for(var i in t.models)s(t.models[i],n,!0);return t.caption&&e.path.scale(t.caption.anchor,n),t}function u(t,i,a,o,s,u,l){var c=e.path.distort(i,s,u);((o=o||i.layer)&&(c.layer=o),e.isPath(c))?c.type===e.pathType.BezierSeed?r(t,new e.models.BezierCurve(c,l),a):n(t,c,a):r(t,c,a)}function l(t,n){if(t)return function t(r,i,a,o,s){var u=e.point.add(r.origin,a);if(i=null!=i?i:"",r.paths)for(var l in r.paths){var c=r.paths[l];if(c){var p={modelContext:r,layer:null!=c.layer?c.layer:i,offset:u,pathContext:c,pathId:l,route:o.concat(["paths",l]),routeKey:s+(s?".":"")+"paths"+JSON.stringify([l])};n.onPath&&n.onPath(p)}}if(r.models)for(var h in r.models){var f=r.models[h];if(f){var d={parentModel:r,layer:null!=f.layer?f.layer:i,offset:u,route:o.concat(["models",h]),routeKey:s+(s?".":"")+"models"+JSON.stringify([h]),childId:h,childModel:f};n.beforeChildWalk&&!n.beforeChildWalk(d)||(t(d.childModel,d.layer,u,d.route,d.routeKey),n.afterChildWalk&&n.afterChildWalk(d))}}}(t,t.layer,[0,0],[],""),t}t.addCaption=function(t,n,r,i){return r||(r=e.point.zero()),i||(i=e.point.clone(r)),t.caption={text:n,anchor:new e.paths.Line(r,i)},t},t.addPath=n,t.addModel=r,t.addTo=function(e,t,n,i){return void 0===i&&(i=!1),r(t,e,n,i),e},t.clone=function(t){return e.cloneObject(t)},t.countChildModels=function(e){var t=0;if(e.models)for(var n in e.models)t++;return t},t.getAllCaptionsOffset=function(n){var r=[];function i(t,n,i){t.caption&&r.push({text:t.caption.text,anchor:e.path.clone(t.caption.anchor,e.point.add(t.origin,n)),layer:t.caption.anchor.layer||i})}return i(n,n.origin,n.layer),t.walk(n,{afterChildWalk:function(e){return i(e.childModel,e.offset,e.layer)}}),r},t.getSimilarModelId=a,t.getSimilarPathId=o,t.layer=function(e,t){return e.layer=t,e},t.originate=function(t,n){return function t(n,r){if(n){var i=e.point.add(n.origin,r);if(n.type===e.models.BezierCurve.typeName&&e.path.moveRelative(n.seed,i),n.paths)for(var a in n.paths)e.path.moveRelative(n.paths[a],i);if(n.models)for(var a in n.models)t(n.models[a],i);n.caption&&e.path.moveRelative(n.caption.anchor,i),n.origin=e.point.zero()}}(t,n?e.point.subtract([0,0],n):[0,0]),n&&(t.origin=n),t},t.center=function(t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=e.measure.modelExtents(t),a=t.origin||[0,0];return n&&(a[0]-=i.center[0]),r&&(a[1]-=i.center[1]),t.origin=a,t},t.mirror=function t(n,r,i){var a={};if(!n)return null;if(n.origin&&(a.origin=e.point.mirror(n.origin,r,i)),n.type&&(a.type=n.type),"layer"in n&&(a.layer=n.layer),n.units&&(a.units=n.units),n.type===e.models.BezierCurve.typeName&&(a.type=e.models.BezierCurve.typeName,a.seed=e.path.mirror(n.seed,r,i)),n.paths)for(var o in a.paths={},n.paths){var s=n.paths[o];if(s){var u=e.path.mirror(s,r,i);u&&(a.paths[o]=u)}}if(n.models)for(var o in a.models={},n.models){var l=n.models[o];if(l){var c=t(l,r,i);c&&(a.models[o]=c)}}return n.caption&&(a.caption=e.cloneObject(n.caption),a.caption.anchor=e.path.mirror(n.caption.anchor,r,i)),a},t.move=function(t,n){return t.origin=e.point.clone(n),t},t.moveRelative=function(t,n){return t&&(t.origin=e.point.add(t.origin||e.point.zero(),n)),t},t.prefixPathIds=function(e,t){var n=[];l(e,{onPath:function(e){n.push(e)}});for(var r=0;r<n.length;r++){var i=n[r];delete i.modelContext.paths[i.pathId],i.modelContext.paths[t+i.pathId]=i.pathContext}return e},t.rotate=function t(n,r,i){if(void 0===i&&(i=[0,0]),!n||!r)return n;var a=e.point.subtract(i,n.origin);if(n.type===e.models.BezierCurve.typeName&&e.path.rotate(n.seed,r,a),n.paths)for(var o in n.paths)e.path.rotate(n.paths[o],r,a);if(n.models)for(var o in n.models)t(n.models[o],r,a);return n.caption&&e.path.rotate(n.caption.anchor,r,a),n},t.scale=s,t.distort=function t(n,i,a,o,s){void 0===o&&(o=!1);var l={};if(n.layer&&(l.layer=n.layer),o&&n.origin&&(l.origin=e.point.distort(n.origin,i,a)),n.type===e.models.BezierCurve.typeName){var c=n,p=e.models.BezierCurve.getBezierSeeds(c,{byLayers:!0,pointMatchingDistance:s}),h=function(e){p[e].forEach((function(t,n){u(l,t,n.toString(),e,i,a,s)}))};for(var f in p)h(f)}else if(n.paths)for(var d in n.paths){var v=n.paths[d];u(l,v,d,null,i,a,s)}if(n.models)for(var g in n.models){var m=t(n.models[g],i,a,!0,s);r(l,m,g)}return n.caption&&(l.caption=e.cloneObject(n.caption),l.caption.anchor=e.path.distort(n.caption.anchor,i,a)),l},t.convertUnits=function(t,n){if(t.units&&e.units.isValidUnit(t.units)&&e.units.isValidUnit(n)){var r=e.units.conversionScale(t.units,n);1!=r&&(s(t,r),t.units=n)}return t},t.walkPaths=function e(t,n){if(t.paths)for(var r in t.paths)t.paths[r]&&n(t,r,t.paths[r]);if(t.models)for(var i in t.models)t.models[i]&&e(t.models[i],n)},t.walk=l,t.zero=function(t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=e.measure.modelExtents(t),a=t.origin||[0,0];return n&&(a[0]-=i.low[0]),r&&(a[1]-=i.low[1]),t.origin=a,t}}(e.model||(e.model={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(t,n){var r=e.cloneObject(t);if(!r)return null;var i=e.path.breakAtPoint(r,n);if(i){for(var a=[r,i],o=2;o--;)if(0==e.round(e.measure.pathLength(a[o]),1e-4))return null;return a}return t.type==e.pathType.Circle?[r]:null}function r(t,n,r){var i=[];return t.forEach((function(t){e.measure.isPointOnPath(t,n,1e-5,null,r)&&i.push(t)})),i}function i(i,a,o,s,u,l){var c=[],p=[],h={onPath:function(i){var h={absolutePath:e.path.clone(i.pathContext,i.offset),pathId:i.pathId,overlapped:!1,uniqueForeignIntersectionPoints:[]},f=i;f.broken=!1,f.segments=[h];var d={onPath:function(t){i.pathContext!==t.pathContext&&e.measure.isMeasurementOverlapping(s.pathMap[i.routeKey],u.pathMap[t.routeKey])&&function(t,i,a){var o=a.pathContext,s=t.segments;if(e.measure.isPathEqual(s[0].absolutePath,o,1e-4,null,a.offset))return s[0].overlapped=!0,s[0].duplicate=!0,void i.push(s[0]);for(var u={},l={path1Offset:t.offset,path2Offset:a.offset},c=e.path.intersection(t.pathContext,o,l),p=c?c.intersectionPoints:null,h=e.point.fromPathEnds(o,a.offset)||[],f=0;f<s.length;f++){var d=r(p?h.concat(p):h,s[f].absolutePath,u);if(l.out_AreOverlapped&&(s[f].overlapped=!0,i.push(s[f])),d.length>0){for(var v=null,g=0;!v&&g<d.length;)v=n(s[f].absolutePath,d[g]),g++;if(v){if(t.broken=!0,s[f].absolutePath=v[0],v[1]){var m={absolutePath:v[1],pathId:s[0].pathId,overlapped:s[f].overlapped,uniqueForeignIntersectionPoints:[]};s[f].overlapped&&i.push(m),s.push(m)}f--}}}}(f,p,t)},beforeChildWalk:function(t){var n=u.modelMap[t.routeKey];return n&&e.measure.isMeasurementOverlapping(s.pathMap[i.routeKey],n)}};if(t.walk(a,d),o)for(var v=0;v<f.segments.length;v++){var g=e.point.middle(f.segments[v].absolutePath),m={measureAtlas:u,farPoint:l};f.segments[v].isInside=e.measure.isPointInsideModel(g,a,m),f.segments[v].uniqueForeignIntersectionPoints=m.out_intersectionPoints}c.push(f)}};return t.walk(i,h),{crossedPaths:c,overlappedSegments:p}}function a(n,r,i,a,o,s){function u(r,i,a){var s=t.getSimilarPathId(r,i),u=s==i?n.routeKey:e.createRouteKey(n.route.slice(0,-1).concat([s]));if(a.addedPath=e.cloneObject(n.pathContext),a.addedPath.type=a.absolutePath.type,e.path.copyProps(a.absolutePath,a.addedPath),e.path.moveRelative(a.addedPath,n.offset,!0),r.paths[s]=a.addedPath,n.broken){var l=e.measure.pathExtents(a.absolutePath);o.pathMap[u]=l,o.modelsMeasured=!1}else o.pathMap[u]=h}var l,c,p,h=o.pathMap[n.routeKey];delete n.modelContext.paths[n.pathId],delete o.pathMap[n.routeKey];for(var f=0;f<n.segments.length;f++)n.segments[f].duplicate?a?u(n.modelContext,n.pathId,n.segments[f]):s(n.segments[f].absolutePath,n.routeKey,"segment is duplicate"):(l=n.modelContext,c=n.pathId,(p=n.segments[f]).isInside&&r||!p.isInside&&i?u(l,c,p):(o.modelsMeasured=!1,s(p.absolutePath,n.routeKey,"segment is "+(p.isInside?"inside":"outside")+" intersectionPoints="+JSON.stringify(p.uniqueForeignIntersectionPoints))))}function o(n,r,o,s,u,l,c){void 0===o&&(o=!1),void 0===s&&(s=!0),void 0===u&&(u=!1),void 0===l&&(l=!0);var p={trimDeadEnds:!0,pointMatchingDistance:.005,out_deleted:[{paths:{}},{paths:{}}]};if(e.extendObject(p,c),p.measureA=p.measureA||new e.measure.Atlas(n),p.measureB=p.measureB||new e.measure.Atlas(r),p.measureA.measureModels(),p.measureB.measureModels(),!p.farPoint){var h=e.measure.increase(e.measure.increase({high:[null,null],low:[null,null]},p.measureA.modelMap[""]),p.measureB.modelMap[""]);p.farPoint=e.point.add(h.high,[1,1])}var f=i(n,r,!0,p.measureA,p.measureB,p.farPoint),d=i(r,n,!0,p.measureB,p.measureA,p.farPoint);function v(e,n,r,i){t.addPath(p.out_deleted[e],n,"deleted");var a=n;a.reason=i,a.routeKey=r}!function(t,n,r){function i(t){for(var i=0;i<n.length;i++)a=n[i],o=t,e.measure.isPathEqual(a.absolutePath,o.absolutePath,r)&&(a.duplicate=o.duplicate=!0);var a,o}for(var a=0;a<t.length;a++)i(t[a])}(f.overlappedSegments,d.overlappedSegments,p.pointMatchingDistance);for(var g=0;g<f.crossedPaths.length;g++)a(f.crossedPaths[g],o,s,!0,p.measureA,(function(e,t,n){return v(0,e,t,n)}));for(g=0;g<d.crossedPaths.length;g++)a(d.crossedPaths[g],u,l,!1,p.measureB,(function(e,t,n){return v(1,e,t,n)}));var m,y={models:{a:n,b:r}};p.trimDeadEnds&&(o||u||(m=function(e){for(var t=0;t<f.overlappedSegments.length;t++)if(f.overlappedSegments[t].duplicate&&e.pathContext===f.overlappedSegments[t].addedPath)return!1;return!0}),t.removeDeadEnds(y,null,m,(function(e,t){v("a"===e.route[1]?0:1,e.pathContext,e.routeKey,t)})));return e.extendObject(c,p),y}t.isPathInsideModel=function(t,n,r,i,a){var o={farPoint:i,measureAtlas:a},s=e.point.add(e.point.middle(t),r);return e.measure.isPointInsideModel(s,n,o)},t.breakPathsAtIntersections=function(t,n){var r,a=new e.measure.Atlas(t);return a.measureModels(),n?(r=new e.measure.Atlas(n)).measureModels():(n=t,r=a),i(t,n||t,!1,a,r),t},t.combine=o,t.combineIntersection=function(e,t){return o(e,t,!0,!1,!0,!1)},t.combineSubtraction=function(e,t){return o(e,t,!1,!0,!0,!1)},t.combineUnion=function(e,t){return o(e,t,!1,!0,!1,!0)}}(e.model||(e.model={}))}(MakerJs||(MakerJs={})),function(e){var t=function(){function e(e){this.comparer=e,this.collections=[]}return e.prototype.addItemToCollection=function(e,t){var n=this.findCollection(e);if(n)n.push(t);else{var r={key:e,items:[t]};this.collections.push(r)}},e.prototype.findCollection=function(e,t){for(var n=0;n<this.collections.length;n++){var r=this.collections[n];if(this.comparer(e,r.key))return t&&t(n),r.items}return null},e.prototype.removeCollection=function(e){var t=this;return!!this.findCollection(e,(function(e){t.collections.splice(e,1)}))},e.prototype.removeItemFromCollection=function(e,t){var n=this.findCollection(e);if(n){for(var r=0;r<n.length;r++)if(n[r]===t)return n.splice(r,1),!0;return!1}},e.prototype.getCollectionsOfMultiple=function(e){for(var t=0;t<this.collections.length;t++){var n=this.collections[t];n.items.length>1&&e(n.key,n.items)}},e}();e.Collector=t;var n=require("kdbush"),r=n.default||n,i=function(){function t(){this.reset()}return t.prototype.reset=function(){this.insertedCount=0,this.graph={},this.index={},this.merged={},this.values=[]},t.prototype.insertValue=function(e){return this.values.push(e),this.values.length-1},t.prototype.insertValueIdAtPoint=function(e,t){var n=t[0],r=t[1];this.graph[n]||(this.graph[n]={});var i,a,o=this.graph[n],s=r in o;return s?((a=o[r])in this.merged&&(a=this.merged[a]),(i=this.index[a]).valueIds.push(e)):(o[r]=a=this.insertedCount++,i={pointId:a,point:t,valueIds:[e]},this.index[a]=i),{existed:s,pointId:a}},t.prototype.mergePoints=function(e){var t=this,n=[],i=[];for(var a in this.index){var o=this.index[a],s=o.point;o.kdId=n.length,n.push(s),i.push(o)}this.kdbush=r(n);var u=function(n){if(n in l.merged)return"continue";var r=l.index[n];l.kdbush.within(r.point[0],r.point[1],e).forEach((function(e){e!==r.kdId&&t.mergeIndexElements(r,i[e])}))},l=this;for(var a in this.index)u(a)},t.prototype.mergeNearestSinglePoints=function(t){var n=this,i=[];for(var a in this.index){var o=this.index[a];1===o.valueIds.length&&i.push(o)}this.kdbush=r(i.map((function(e){return e.point}))),i.forEach((function(r){if(!(r.pointId in n.merged)){var a=n.kdbush.within(r.point[0],r.point[1],t),o=[];a.forEach((function(t){var n=i[t];n.pointId!==r.pointId&&o.push({el:n,distance:e.measure.pointDistance(n.point,r.point)})})),o.sort((function(e,t){return e.distance-t.distance}));for(var s=0;s<o.length;s++){var u=o[s].el;if(!(u.pointId in n.merged))return void(u.merged&&u.merged.length>0?n.mergeIndexElements(u,r):n.mergeIndexElements(r,u))}}}))},t.prototype.mergeIndexElements=function(e,t){return e.merged=e.merged||[],e.merged.push(t.pointId),this.merged[t.pointId]=e.pointId,e.valueIds.push.apply(e.valueIds,t.valueIds),delete this.index[t.pointId],e.pointId},t.prototype.forEachPoint=function(e){for(var t=this,n=0;n<this.insertedCount;n++){var r=this.index[n];if(r)r.valueIds.length>0&&e(r.point,r.valueIds.map((function(e){return t.values[e]})),n,r)}},t.prototype.getIdOfPoint=function(e){var t=this.graph[e[0]];if(t){var n=t[e[1]];if(n>=0)return n in this.merged?this.merged[n]:n}},t.prototype.getElementAtPoint=function(e){var t=this.getIdOfPoint(e);if(t>=0)return this.index[t]},t}();e.PointGraph=i}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t,n){var r=0;do{var i=e[r];do{for(var a=!1,o=r+1;o<e.length;o++){var s=e[o];if(a=t(i.pathContext,s.pathContext,!1)){n(i.pathContext,s.pathContext),delete s.modelContext.paths[s.pathId],e.splice(o,1);break}}}while(a);r++}while(r<e.length)}t.simplify=function(r,i){function a(t,n){return Math.abs(t.radius-n.radius)<=c.scalarMatchingDistance&&e.measure.pointDistance(t.origin,n.origin)<=c.pointMatchingDistance}var o=new e.Collector(a),s=new e.Collector(a),u=new e.Collector(e.measure.isSlopeEqual),l={};l[e.pathType.Arc]=function(e){o.addItemToCollection(e.pathContext,e)},l[e.pathType.Circle]=function(e){s.addItemToCollection(e.pathContext,e)},l[e.pathType.Line]=function(t){var n=e.measure.lineSlope(t.pathContext);u.addItemToCollection(n,t)};var c={scalarMatchingDistance:.001,pointMatchingDistance:.005};e.extendObject(c,i);var p={onPath:function(e){var t=l[e.pathContext.type];t&&t(e)}};return t.walk(r,p),o.getCollectionsOfMultiple((function(t,r){n(r,e.measure.isArcOverlapping,(function(t,n){var r=e.measure.isBetweenArcAngles(t.endAngle,n,!1),i=e.measure.isBetweenArcAngles(n.endAngle,t,!1);if(r&&i)t.endAngle=t.startAngle+360;else{var a=r?[t,n]:[n,t];t.startAngle=e.angle.noRevolutions(a[0].startAngle),t.endAngle=a[1].endAngle}}))})),s.getCollectionsOfMultiple((function(e,t){for(var n=1;n<t.length;n++){var r=t[n];delete r.modelContext.paths[r.pathId]}})),u.getCollectionsOfMultiple((function(t,r){n(r,e.measure.isLineOverlapping,(function(n,r){var i={paths:{lineA:n,lineB:r}},a=e.measure.modelExtents(i);t.hasSlope?t.slope<0?(n.origin=[a.low[0],a.high[1]],n.end=[a.high[0],a.low[1]]):t.slope>0?(n.origin=a.low,n.end=a.high):(n.origin[0]=a.low[0],n.end[0]=a.high[0]):(n.origin[1]=a.low[1],n.end[1]=a.high[1])}))})),r}}(e.model||(e.model={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n={};n[e.pathType.Arc]=function(t,n,r){return new e.models.OvalArc(t.startAngle,t.endAngle,t.radius,n,!1,r)},n[e.pathType.Circle]=function(t,n,r){return new e.models.Ring(t.radius+n,t.radius-n)},n[e.pathType.Line]=function(t,n,r){return new e.models.Slot(t.origin,t.end,n,r)},t.expand=function(e,t,r){if(!e)return null;var i=null,a=n[e.type];return a&&((i=a(e,t,r)).origin=e.origin),i},t.straighten=function(t,n,r,i){var a=e.angle.ofArcSpan(t),o=1;a>=270?o=4:a>180?o=3:(a>150||n)&&(o=2);for(var s=e.angle.toRadians(a/o),u=e.models.Polygon.circumscribedRadius(t.radius,s),l=e.point.fromArc(t),c=[e.point.subtract(l[0],t.origin)],p=e.angle.toRadians(t.startAngle)+s/2,h=0;h<o;h++)c.push(e.point.fromPolar(p,u)),p+=s;c.push(e.point.subtract(l[1],t.origin));var f=new e.models.ConnectTheDots(i,c);return f.origin=t.origin,"string"==typeof r&&r.length&&e.model.prefixPathIds(f,r),f}}(e.path||(e.path={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(n,r,i,a){if(void 0===i&&(i=0),void 0===a&&(a={}),r<=0)return null;var o={models:{expansions:{models:{}},caps:{models:{}}}},s=!0,u=a.farPoint,l={onPath:function(n){if(!(a.pointMatchingDistance&&e.measure.pathLength(n.pathContext)<a.pointMatchingDistance)){var i=e.path.expand(n.pathContext,r,!0);if(i){t.moveRelative(i,n.offset);var l=t.getSimilarModelId(o.models.expansions,n.pathId);if(t.prefixPathIds(i,n.pathId+"_"),t.originate(i),s||(t.combine(o,i,!1,!0,!1,!0,a),a.measureA.modelsMeasured=!1,u=a.farPoint,delete a.farPoint,delete a.measureB),o.models.expansions.models[l]=i,i.models){var c=i.models.Caps;c&&(delete i.models.Caps,o.models.caps.models[l]=c)}s=!1}}}};if(t.walk(n,l),i){var c=o.models.caps,p={models:{}};for(var h in o.models.straightcaps=p,t.simplify(c),c.models)p.models[h]={models:{}},t.walk(c.models[h],{onPath:function(n){var r=n.pathContext,s=e.path.straighten(r,2==i,n.pathId+"_",!0);t.combine(o,s,!1,!0,!1,!0,a),a.measureA.modelsMeasured=!1,u=a.farPoint,delete a.farPoint,delete a.measureB,p.models[h].models[n.pathId]=s,delete n.modelContext.paths[n.pathId]}});delete o.models.caps}return a.farPoint=u,o}function r(e){var n=[];return t.findChains(e,(function(e,t,r){n=e.filter((function(e){return e.endless}))})),n}t.expandPaths=n,t.outline=function(t,i,a,o,s){void 0===a&&(a=0),void 0===o&&(o=!1),void 0===s&&(s={});var u=n(t,i,a,s);if(!u)return null;var l=function(t){var n=r(t);if(0==n.length)return null;var i={models:{}};return n.forEach((function(t,n){i.models[n]=e.chain.toNewModel(t)})),i}(t);if(l){var c=0,p={models:{}};return r(u).forEach((function(t){var n=t.links[0].walkedPath,r=e.measure.isPointInsideModel(e.point.middle(n.pathContext),l,n.offset);(o&&r||!o&&!r)&&(p.models[c++]=e.chain.toNewModel(t))})),p}return u}}(e.model||(e.model={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n,r=e.unitType.Millimeter;function i(e,t,r){function i(e){return n[e]||(n[e]={}),n[e]}i(e)[t]=r,i(t)[e]=1/r}function a(e,t){i(e,r,t)}t.conversionScale=function(t,o){return t==o?1:(n||(n={},a(e.unitType.Centimeter,10),a(e.unitType.Meter,1e3),a(e.unitType.Inch,25.4),a(e.unitType.Foot,25.4*12)),n[t][o]||i(t,o,n[t][r]*n[r][o]),n[t]&&n[t][o])},t.isValidUnit=function(t){for(var n in e.unitType)if(e.unitType[n]==t)return!0;return!1}}(e.units||(e.units={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(t,n,r){void 0===r&&(r=1e-4);var i=e.angle.noRevolutions(t),a=e.angle.noRevolutions(n);return 0==e.angle.noRevolutions(e.round(a-i,r))}t.isAngleEqual=n;var r={};function i(n,r,i){return i?!(!n||!r)&&t.pointDistance(n,r)<=i:0==e.round(n[0]-r[0])&&0==e.round(n[1]-r[1])}function a(e,t,n){return void 0===n&&(n=0),t.hasSlope?Math.abs(e[1]-(t.slope*e[0]+t.yIntercept))<=n:Math.abs(e[0]-t.line.origin[0])<=n}function o(e,n,r){return void 0===r&&(r=0),Math.abs(t.pointDistance(e,n.origin)-n.radius)<=r}r[e.pathType.Line]=function(e,t,n){return i(e.origin,t.origin,n)&&i(e.end,t.end,n)||i(e.origin,t.end,n)&&i(e.end,t.origin,n)},r[e.pathType.Circle]=function(e,t,n){return i(e.origin,t.origin,n)&&e.radius==t.radius},r[e.pathType.Arc]=function(t,i,a){return r[e.pathType.Circle](t,i,a)&&n(t.startAngle,i.startAngle)&&n(t.endAngle,i.endAngle)},t.isPathEqual=function(t,n,i,a,o){var s=!1;if(t.type==n.type){var u=r[t.type];if(u){function l(){s=u(t,n,i)}a||o?e.path.moveTemporary([t,n],[a,o],l):l()}}return s},t.isPointEqual=i,t.isPointDistinct=function(e,t,n){for(var r=0;r<t.length;r++)if(i(t[r],e,n))return!1;return!0},t.isPointOnSlope=a,t.isPointOnCircle=o;var s={};function u(t,n){return!t.hasSlope&&!n.hasSlope||!(!t.hasSlope||!n.hasSlope||0!=e.round(t.slope-n.slope,1e-5))}s[e.pathType.Circle]=function(e,t,n){return o(e,t,n)},s[e.pathType.Arc]=function(n,r,i){if(s[e.pathType.Circle](n,r,i)){var a=e.angle.ofPointInDegrees(r.origin,n);return t.isBetweenArcAngles(a,r,!1)}return!1},s[e.pathType.Line]=function(e,n,r,i){var o=i&&i.cachedLineSlope||t.lineSlope(n);return i&&!i.cachedLineSlope&&(i.cachedLineSlope=o),a(e,o,r)&&t.isBetweenPoints(e,n,!1)},t.isPointOnPath=function(t,n,r,i,a){void 0===r&&(r=0);var o=s[n.type];return!!o&&o(t,i?e.path.clone(n,i):n,r,a)},t.isSlopeEqual=function(t,n){if(!u(t,n))return!1;if(!t.hasSlope&&!n.hasSlope)return 0==e.round(t.line.origin[0]-n.line.origin[0]);var r=[t,n],i=r.map((function(t){return e.angle.toDegrees(Math.atan(t.slope))})),a=r.map((function(t){return e.path.clone(t.line)})),o=a[0].origin;a.forEach((function(t,n){return e.path.rotate(t,-i[n],o)}));var s=a.map((function(e){return(e.origin[1]+e.end[1])/2}));return 0==e.round(s[0]-s[1],1e-5)},t.isSlopeParallel=u}(e.measure||(e.measure={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t,n){function r(e,t,n){if(t)for(var r=2;r--;)null!=t[r]&&(null==e[r]?e[r]=t[r]:e[r]=n(e[r],t[r]))}return t&&(r(e.low,t.low,Math.min),r(e.high,t.high,Math.max)),n&&k(e),e}function r(e,t,n){function r(e,t){function r(t){return a(t,e,n)}return r(t.startAngle)||r(t.endAngle)}return r(e,t)||r(t,e)||e.startAngle==t.startAngle&&e.endAngle==t.endAngle}function i(e,t,n,r){return r?Math.min(t,n)<e&&e<Math.max(t,n):Math.min(t,n)<=e&&e<=Math.max(t,n)}function a(t,n,r){var a=e.angle.noRevolutions(n.startAngle),o=a+e.angle.ofArcSpan(n);return i(t=e.angle.noRevolutions(t),a,o,r)||i(t,a+360,o+360,r)||i(t,a-360,o-360,r)}function o(t,n,r){for(var a=!1,o=2;o--;)if(0!=e.round(n.origin[o]-n.end[o],1e-6)){var s=e.round(n.origin[o]),u=e.round(n.end[o]);if(!i(e.round(t[o]),s,u,r))return!1}else{if(a)return!1;a=!0}return!0}t.increase=n,t.isArcConcaveTowardsPoint=function(t,n){if(h(t.origin,n)<=t.radius)return!0;var r=new e.paths.Line(e.point.middle(t),n),i={};return!(!e.path.intersection(r,new e.paths.Chord(t),i)&&!i.out_AreOverlapped)},t.isArcOverlapping=function(e,t,n){return r(e,t,n)},t.isArcSpanOverlapping=r,t.isBetween=i,t.isBetweenArcAngles=a,t.isBetweenPoints=o,t.isBezierSeedLinear=function(e,n){for(var r=p(e),i=0;i<e.controls.length;i++)if(!t.isPointOnSlope(e.controls[i],r)){if(!n)return!1;if(o(e.controls[i],e,!1))return!1}return!0};var s=require("graham_scan");function u(e){return e.join(",")}function l(e,t){var n=new s,r=[];e.forEach((function(e){n.addPoint(e[0],e[1]),r.push(u(e))}));var i=n.getHull(),a=i.slice(0,3).map((function(e){return u([e.x,e.y])})),o=[];switch(r.forEach((function(e){~a.indexOf(e)&&o.push(e)})),o.indexOf(a[1])){case 0:o.unshift(o.pop());break;case 2:o.push(o.shift())}return t&&(t.hullPoints=i.map((function(e){return[e.x,e.y]})),t.keyPoints=e),a[0]!=o[0]}function c(t,n){for(var r=2;r--;)if(!(e.round(t.low[r]-n.high[r])<=0&&e.round(t.high[r]-n.low[r])>=0))return!1;return!0}function p(t){var n=t.end[0]-t.origin[0];if(0==e.round(n,1e-6))return{line:t,hasSlope:!1};var r=(t.end[1]-t.origin[1])/n;return{line:t,hasSlope:!0,slope:r,yIntercept:t.origin[1]-r*t.origin[0]}}function h(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function f(e,t,n){return[n(e[0],t[0]),n(e[1],t[1])]}t.isChainClockwise=function(t,n){return t.endless&&1!==t.links.length?l(e.chain.toKeyPoints(t),n):null},t.isPointArrayClockwise=l,t.isLineOverlapping=function(e,t,n){function r(e,t,r){function i(e){return o(e,t,n)}return i(r.origin)||i(r.end)}return r(0,e,t)||r(0,t,e)},t.isMeasurementOverlapping=c,t.lineSlope=p,t.pointDistance=h;var d={};function v(t,n){if(t){var r=d[t.type];if(r){var i=r(t);return n&&(i.high=e.point.add(i.high,n),i.low=e.point.add(i.low,n)),i}}return{low:null,high:null}}d[e.pathType.Line]=function(e){return{low:f(e.origin,e.end,Math.min),high:f(e.origin,e.end,Math.max)}},d[e.pathType.Circle]=function(t){var n=t.radius;return{low:e.point.add(t.origin,[-n,-n]),high:e.point.add(t.origin,[n,n])}},d[e.pathType.Arc]=function(t){var n=t.radius,r=e.point.fromArc(t);function i(e,n,i){for(var o=f(r[0],r[1],i),s=2;s--;)a(e[s],t,!1)&&(o[s]=n+t.origin[s]);return o}return{low:i([180,270],-n,Math.min),high:i([360,90],n,Math.max)}},t.pathExtents=v;var g={};function m(e){if(e){var t=g[e.type];if(t)return t(e)}return 0}function y(t,r){function i(t,i){if(i){var a,o=t.slice(0,-2),s=e.createRouteKey(o);s in r.modelMap?n(r.modelMap[s],i):r.modelMap[s]=(a=i,{high:e.point.clone(a.high),low:e.point.clone(a.low)})}}r||(r=new P(t));var a={onPath:function(e){e.routeKey in r.pathMap||(r.pathMap[e.routeKey]=v(e.pathContext,e.offset)),i(e.route,r.pathMap[e.routeKey])},afterChildWalk:function(e){i(e.route,r.modelMap[e.routeKey])}};e.model.walk(t,a),r.modelsMeasured=!0;var o=r.modelMap[""];return o?k(o):o}function k(t){var n=t;return n.center=e.point.average(n.high,n.low),n.width=n.high[0]-n.low[0],n.height=n.high[1]-n.low[1],n}g[e.pathType.Line]=function(e){return h(e.origin,e.end)},g[e.pathType.Circle]=function(e){return 2*Math.PI*e.radius},g[e.pathType.Arc]=function(t){var n=g[e.pathType.Circle](t);return n*=e.angle.ofArcSpan(t)/360},g[e.pathType.BezierSeed]=function(t){return e.models.BezierCurve.computeLength(t)},t.pathLength=m,t.modelPathLength=function(t){var n=0;return e.model.walk(t,{onPath:function(e){n+=m(e.pathContext)}}),n},t.modelExtents=y,t.augment=k;var P=function(){function e(e){this.modelContext=e,this.modelsMeasured=!1,this.modelMap={},this.pathMap={}}return e.prototype.measureModels=function(){this.modelsMeasured||y(this.modelContext,this)},e}();function A(e,t){return e.slope*t+e.yIntercept}function M(t,n,r,i){e.model.rotate(n,r);var a=y(n),o={index:t,rotation:i,center:e.point.rotate(a.center,i),width:a.height,height:a.width,bottom:new e.paths.Line(a.low,[a.high[0],a.low[1]]),middle:new e.paths.Line([a.low[0],a.center[1]],[a.high[0],a.center[1]]),top:new e.paths.Line(a.high,[a.low[0],a.high[1]])};return[o.top,o.middle,o.bottom].forEach((function(t){return e.path.rotate(t,i)})),o}function x(t,n){var r=t[1].origin,i=r[0],a=t[3].origin[0],o=t[0].origin[0],s=i-o;if(o-a>2*s)return null;var u=(i-a)/3;if(s<u)return null;var l,c,h=Math.min(u,s),f=e.solvers.equilateralSide(h),d=[e.point.fromSlopeIntersection(t[1],t[2]),e.point.fromSlopeIntersection(t[4],t[5])].map((function(e){return Math.abs(e[1]-r[1])})),v=d[0]>d[1]?0:1,g=d[v];if(g>f){var m=e.solvers.equilateralAltitude(g),y=i-2*m;if(o>y+m)return null;if(a<y-m)return null;var k=a-y+m,P=2*m-n[v+1].width,M=Math.min(k,P)/2;return{origin:(l=n[2-v].middle,c=y+M,[c,A(p(l),c)]),radius:g,type:"peak "+v}}return{origin:[i-2*h,r[1]],radius:f,type:"side"}}t.Atlas=P,t.boundingHexagon=function(n){var r=e.cloneObject(n);e.model.originate(r);var i=y(r),a=[],o={paths:{}};function s(t,n,r){return{radius:t,paths:new e.models.Polygon(6,t,30).paths,origin:e.point.add(n,i.center),notes:r}}e.model.center(r);for(var u=[[90,-90],[-60,-30],[-60,30]];u.length;){var l=u.shift(),c=M(a.length,r,l[0],l[1]),p=e.solvers.equilateralSide(c.width/2);if(p>=c.height)return s(p,c.center,"solved by bound "+a.length);a.push(c)}if(function(n){for(var r=1;r<3;r++)if(!t.isPointEqual(n[0].center,n[r].center,1e-6)||0!==e.round(n[0].width-n[r].width))return!1;return!0}(a))return s(e.solvers.equilateralSide(a[0].width/2),a[0].center,"solved as circular");var h=a.map((function(e){return e.top})).concat(a.map((function(e){return e.bottom})));h.forEach((function(t,n){o.paths[n]=t,e.path.converge(h[function(e,t){return t>=e?t-e:t<0?t+e:t}(6,n+2)],t,!0)})),a.forEach((function(e,t){o.paths["m"+t]=e.middle}));for(var f,d=a.slice(),v=0;v<6;v++){v>0&&(h.push(h.shift()),d.push(d.shift()),e.model.rotate(o,-60));var g=x(h,d);g&&(!f||g.radius<f.radius)&&((f=g).index=v)}var m=e.point.rotate(f.origin,60*f.index);return s(f.radius,m,"solved by "+f.index+" as "+f.type)},t.isPointInsideModel=function(n,r,i){var a;void 0===i&&(i={}),i.farPoint||(i.farPoint=function(t,n,r){if(n)return n;var i=y(t).high;return i?e.point.add(i,[1,1]):[7654321,1234567]}(r,i.farPoint,i.measureAtlas)),i.out_intersectionPoints=[];var o=new e.paths.Line(n,i.farPoint),s=v(o),u={onPath:function(n){if(!i.measureAtlas||c(s,i.measureAtlas.pathMap[n.routeKey])){var r={path2Offset:n.offset},u=e.path.intersection(o,n.pathContext,r);if(u)(function(e,n){var r=0;return n.forEach((function(n){t.isPointDistinct(n,e,1e-8)&&(e.push(n),r++)})),r})(i.out_intersectionPoints,u.intersectionPoints)%2==1&&(a=!a)}},beforeChildWalk:function(e){if(!i.measureAtlas)return!0;var t=i.measureAtlas.modelMap[e.routeKey];return t&&c(s,t)}};return e.model.walk(r,u),!!a}}(e.measure||(e.measure={}))}(MakerJs||(MakerJs={})),function(e){!function(t){t.toJson=function(t,n){return void 0===n&&(n={}),JSON.stringify(t,n.accuracy&&function(t,r){return e.isNumber(r)?e.round(r,n.accuracy):e.isPoint(r)?e.point.rounded(r,n.accuracy):r},n.indentation)},t.tryGetModelUnits=function(t){if(e.isModel(t))return t.units},t.colors={black:0,red:1,yellow:2,lime:3,aqua:4,blue:5,fuchsia:6,white:7,gray:9,maroon:14,orange:30,olive:58,green:94,teal:134,navy:174,purple:214,silver:254}}(e.exporter||(e.exporter={}))}(MakerJs||(MakerJs={})),function(e){!function(e){e.parseNumericList=function(e){for(var t,n=[],r=/-?(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;null!==(t=r.exec(e));)t.index===r.lastIndex&&r.lastIndex++,""!==t[0]&&n.push(parseFloat(t[0]));return n}}(e.importer||(e.importer={}))}(MakerJs||(MakerJs={})),function(e){!function(t){t.toDXF=function(r,i){void 0===i&&(i={});var a={fontSize:9},o=[],s={entities:[],header:{},tables:{}};if(e.extendObject(a,i),e.isModel(r)){var u=r;u.exporterOptions&&e.extendObject(a,u.exporterOptions.toDXF)}function l(e){return a.layerOptions&&a.layerOptions[e]?a.layerOptions[e]:e in t.colors?{color:t.colors[e]}:void 0}function c(e,t){var n=e&&e.layer||t||"0";return o.indexOf(n)<0&&o.push(n),n}var p={};function h(t,n,r){return{type:"VERTEX",layer:c(null,n),x:e.round(t[0],a.accuracy),y:e.round(t[1],a.accuracy),bulge:r}}function f(t){var n={type:"POLYLINE",layer:c(null,t.layer),shape:t.chain.endless,vertices:[]};if(t.chain.links.forEach((function(r,i){var o;if(r.walkedPath.pathContext.type===e.pathType.Arc){var s=r.walkedPath.pathContext;o=e.round(Math.tan(e.angle.toRadians(e.angle.ofArcSpan(s))/4),a.accuracy),r.reversed&&(o*=-1)}var u=r.endPoints[r.reversed?1:0];n.vertices.push(h(u,t.layer,o))})),!t.chain.endless){var r=t.chain.links[t.chain.links.length-1],i=r.endPoints[r.reversed?0:1];n.vertices.push(h(i,t.layer))}return n}function d(t){var n=c(null,t.layer),r=l(n),i=e.point.middle(t.anchor);return{type:"TEXT",startPoint:h(i,null),endPoint:h(i,null),layer:n,textHeight:r&&r.fontSize||a.fontSize,text:t.text,halign:4,valign:0,rotation:e.angle.ofPointInDegrees(t.anchor.origin,t.anchor.end)}}if(p[e.pathType.Line]=function(t,n,r){return{type:"LINE",layer:c(t,r),vertices:[{x:e.round(t.origin[0]+n[0],a.accuracy),y:e.round(t.origin[1]+n[1],a.accuracy)},{x:e.round(t.end[0]+n[0],a.accuracy),y:e.round(t.end[1]+n[1],a.accuracy)}]}},p[e.pathType.Circle]=function(t,n,r){return{type:"CIRCLE",layer:c(t,r),center:{x:e.round(t.origin[0]+n[0],a.accuracy),y:e.round(t.origin[1]+n[1],a.accuracy)},radius:e.round(t.radius,a.accuracy)}},p[e.pathType.Arc]=function(t,n,r){return{type:"ARC",layer:c(t,r),center:{x:e.round(t.origin[0]+n[0],a.accuracy),y:e.round(t.origin[1]+n[1],a.accuracy)},radius:e.round(t.radius,a.accuracy),startAngle:e.round(t.startAngle,a.accuracy),endAngle:e.round(t.endAngle,a.accuracy)}},!a.units){var v=t.tryGetModelUnits(r);v&&(a.units=v)}e.extendObject(i,a);var g,m=[],y=[];if(a.usePOLYLINE){e.model.findChains(u,(function(t,n,r){t.forEach((function(t){if(t.endless&&1===t.links.length&&t.links[0].walkedPath.pathContext.type===e.pathType.Circle)y.push(t.links[0].walkedPath);else{var n={chain:t,layer:r};m.push(n)}})),y.push.apply(y,n)}),{byLayers:!0,pointMatchingDistance:a.pointMatchingDistance})}else{var k={onPath:function(e){y.push(e)}};e.model.walk(u,k)}return function(e,t,n){var r=s.entities;r.push.apply(r,t.map(f)),e.forEach((function(e){var t=p[e.pathContext.type];if(t){var n=t(e.pathContext,e.offset,e.layer);r.push(n)}})),r.push.apply(r,n.map(d))}(y,m,e.model.getAllCaptionsOffset(u)),function(){if(a.units){var e=n[a.units];s.header.$INSUNITS=e}}(),s.tables.lineType={lineTypes:{CONTINUOUS:{name:"CONTINUOUS",description:"______",patternLength:0}}},g={layers:{}},o.forEach((function(e){var t=l(e);t&&(g.layers[e]=function(e,t){return{name:e,color:t}}(e,t.color))})),s.tables.layer=g,function(e){var t=[];function n(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.push.apply(t,e)}var r={};function i(e){n("0","SECTION"),e(),n("0","ENDSEC")}function a(e){n("0","TABLE"),e(),n("0","ENDTAB")}function o(){n("2","TABLES"),a(l),a(c)}function s(e){n("0","LAYER","2",e.name,"70","0","62",e.color,"6","CONTINUOUS")}function u(e){n("0","LTYPE","72","65","70","64","2",e.name,"3",e.description,"73","0","40",e.patternLength)}function l(){var t="lineType",r=e.tables[t];for(var i in n("2","LTYPE"),r.lineTypes){u(r.lineTypes[i])}}function c(){var t="layer",r=e.tables[t];for(var i in n("2","LAYER"),r.layers){s(r.layers[i])}}function p(){for(var t in n("2","HEADER"),e.header){n("9",t,"70",e.header[t])}}function h(e){n("2","ENTITIES"),e.forEach((function(e){var t=r[e.type];t&&t(e)}))}return r.LINE=function(e){n("0","LINE","8",e.layer,"10",e.vertices[0].x,"20",e.vertices[0].y,"11",e.vertices[1].x,"21",e.vertices[1].y)},r.CIRCLE=function(e){n("0","CIRCLE","8",e.layer,"10",e.center.x,"20",e.center.y,"40",e.radius)},r.ARC=function(e){n("0","ARC","8",e.layer,"10",e.center.x,"20",e.center.y,"40",e.radius,"50",e.startAngle,"51",e.endAngle)},r.VERTEX=function(e){n("0","VERTEX","8",e.layer,"10",e.x,"20",e.y),void 0!==e.bulge&&n("42",e.bulge)},r.POLYLINE=function(e){n("0","POLYLINE","8",e.layer,"66",1,"70",e.shape?1:0),e.vertices.forEach((function(e){return r.VERTEX(e)})),n("0","SEQEND")},r.TEXT=function(e){n("0","TEXT","10",e.startPoint.x,"20",e.startPoint.y,"11",e.endPoint.x,"21",e.endPoint.y,"40",e.textHeight,"1",e.text,"50",e.rotation,"8",e.layer,"72",e.halign,"73",e.valign)},i(p),i(o),i((function(){return h(e.entities)})),n("0","EOF"),t.join("\n")}(s)};var n={"":0};n[e.unitType.Inch]=1,n[e.unitType.Foot]=2,n[e.unitType.Millimeter]=4,n[e.unitType.Centimeter]=5,n[e.unitType.Meter]=6}(e.exporter||(e.exporter={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=Math.sqrt(3)/2;t.equilateralAltitude=function(e){return e*n},t.equilateralSide=function(e){return e/n},t.solveTriangleSSS=function(t,n,r){return e.angle.toDegrees(Math.acos((n*n+r*r-t*t)/(2*n*r)))},t.solveTriangleASA=function(t,n,r){var i=180-t-r;return n*Math.sin(e.angle.toRadians(t))/Math.sin(e.angle.toRadians(i))},t.circleTangentAngles=function(t,n,r){void 0===r&&(r=!1);var i,a=new e.paths.Line(t.origin,n.origin),o=e.measure.pointDistance(t.origin,n.origin);if(t.radius>=o+n.radius||n.radius>=o+t.radius)return null;if(r&&t.radius+n.radius>=o)return null;if(r||0!=e.round(t.radius-n.radius)){var s=o/2,u=new e.paths.Circle([s,0],s),l=new e.paths.Circle(t.radius>n.radius?[0,0]:[o,0],r?t.radius+n.radius:Math.abs(t.radius-n.radius)),c=e.path.intersection(l,u);if(!c||!c.path1Angles)return null;i=c.path1Angles}else i=[90,270];var p=e.angle.ofLineInDegrees(a);return i.map((function(t){return e.angle.noRevolutions(t+p)}))}}(e.solvers||(e.solvers={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n={};function r(e,n,r,i){var a=r?[n.path2Offset,n.path1Offset]:[n.path1Offset,n.path2Offset];t.moveTemporary(e,a,i)}function i(e){var t=e.path1Angles;return e.path2Angles?e.path1Angles=e.path2Angles:delete e.path1Angles,t&&(e.path2Angles=t),e}function a(t,n){for(var r=[],i=0;i<t.length;i++)r.push(e.point.fromAngleOnCircle(t[i],n));return r}function o(t,n,r){if(!t)return null;for(var i=[],a=0;a<t.length;a++)e.measure.isBetweenArcAngles(t[a],n,r.excludeTangents)&&i.push(t[a]);return 0==i.length?null:i}function s(n,r,i){var a=e.round(r.radius);if(r.radius<=0)return null;var o=new e.paths.Line(e.point.subtract(n.origin,r.origin),e.point.subtract(n.end,r.origin)),s=e.angle.ofLineInDegrees(n),u=s>=180?s-360:s;function l(t){var n=t+u;return e.round(e.angle.noRevolutions(n))}t.rotate(o,-u,e.point.zero());var c=e.round(o.origin[1]),p=Math.abs(c);if(p>a)return null;var h=[];if(p==a){if(i.excludeTangents)return null;h.push(l(c>0?90:270))}else{function f(t,n){e.measure.isBetween(e.round(t),e.round(o.origin[0]),e.round(o.end[0]),i.excludeTangents)&&h.push(l(n))}var d=Math.asin(c/a),v=e.angle.toDegrees(d),g=Math.cos(d)*a;f(-g,180-v),f(g,v)}return h.length>0?h:null}function u(n,r,i){if(n.radius<=0||r.radius<=0)return null;if(n.radius==r.radius&&e.measure.isPointEqual(n.origin,r.origin,1e-4))return i.out_AreOverlapped=!0,null;e.point.subtract(e.point.zero(),n.origin);var a=new e.paths.Circle(e.point.zero(),n.radius),o=new e.paths.Circle(e.point.subtract(r.origin,n.origin),r.radius),s=e.angle.ofPointInDegrees(e.point.zero(),o.origin);function u(t){var n=t+s;return e.angle.noRevolutions(n)}t.rotate(o,-s,e.point.zero());var l=o.origin[0];if(0==e.round(o.radius-l-a.radius))return i.excludeTangents?null:[[u(180)],[u(180)]];if(0==e.round(o.radius+l-a.radius))return i.excludeTangents?null:[[u(0)],[u(0)]];if(0==e.round(l-o.radius-a.radius))return i.excludeTangents?null:[[u(0)],[u(180)]];if(e.round(l-o.radius)>a.radius)return null;if(e.round(l+o.radius)<a.radius)return null;if(e.round(l-o.radius)<-a.radius)return null;function c(t){return[u(t),u(e.angle.mirror(t,!1,!0))]}var p=e.solvers.solveTriangleSSS(o.radius,a.radius,l),h=e.solvers.solveTriangleSSS(a.radius,l,o.radius);return[c(p),c(180-h)]}n[e.pathType.Arc]={},n[e.pathType.Circle]={},n[e.pathType.Line]={},n[e.pathType.Arc][e.pathType.Arc]=function(t,n,i,s){var l=null;return r([t,n],i,s,(function(){var r=u(t,n,i);if(r){var s=o(r[0],t,i),c=o(r[1],n,i);if(s&&c)if(1===s.length||1===c.length)for(var p=0;p<s.length;p++)for(var h=0;h<c.length;h++){var f=e.point.fromAngleOnCircle(s[p],t),d=e.point.fromAngleOnCircle(c[h],n);if(e.measure.isPointEqual(f,d,1e-4))return void(l={intersectionPoints:[f],path1Angles:[s[p]],path2Angles:[c[h]]})}else l={intersectionPoints:a(s,t),path1Angles:s,path2Angles:c}}else i.out_AreOverlapped&&(i.out_AreOverlapped=e.measure.isArcOverlapping(t,n,i.excludeTangents))})),l},n[e.pathType.Arc][e.pathType.Circle]=function(e,t,n,i){var s=null;return r([e,t],n,i,(function(){var r=u(e,t,n);if(r){var i=o(r[0],e,n);if(i){var l;if(2==i.length)l=r[1];else{var c=function(e,t){for(var n=2;n--;)if(e[n]===t)return n}(r[0],i[0]);l=[r[1][c]]}s={intersectionPoints:a(i,e),path1Angles:i,path2Angles:l}}}})),s},n[e.pathType.Arc][e.pathType.Line]=function(e,t,n,i){var u=null;return r([e,t],n,i,(function(){var r=s(t,e,n);if(r){var i=o(r,e,n);i&&(u={intersectionPoints:a(i,e),path1Angles:i})}})),u},n[e.pathType.Circle][e.pathType.Arc]=function(t,r,a){var o=n[e.pathType.Arc][e.pathType.Circle](r,t,a,!0);return o?i(o):null},n[e.pathType.Circle][e.pathType.Circle]=function(e,t,n,i){var o=null;return r([e,t],n,i,(function(){var r=u(e,t,n);r&&(o={intersectionPoints:a(r[0],e),path1Angles:r[0],path2Angles:r[1]})})),o},n[e.pathType.Circle][e.pathType.Line]=function(e,t,n,i){var o=null;return r([e,t],n,i,(function(){var r=s(t,e,n);r&&(o={intersectionPoints:a(r,e),path1Angles:r})})),o},n[e.pathType.Line][e.pathType.Arc]=function(t,r,a){var o=n[e.pathType.Arc][e.pathType.Line](r,t,a,!0);return o?i(o):null},n[e.pathType.Line][e.pathType.Circle]=function(t,r,a){var o=n[e.pathType.Circle][e.pathType.Line](r,t,a,!0);return o?i(o):null},n[e.pathType.Line][e.pathType.Line]=function(t,n,i,a){var o=null;return r([t,n],i,a,(function(){var r=e.point.fromSlopeIntersection(t,n,i);r&&e.measure.isBetweenPoints(r,t,i.excludeTangents)&&e.measure.isBetweenPoints(r,n,i.excludeTangents)&&(o={intersectionPoints:[r]})})),o},t.intersection=function(e,t,r){if(void 0===r&&(r={}),e&&t){var i=n[e.type][t.type];if(i)return i(e,t,r)}return null}}(e.path||(e.path={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n={};function r(t){var r=e.point.fromPathEnds(t);if(r){function i(e){return{point:r[e],propertyName:a[e]}}var a=null,o=n[t.type];if(o)return a=o(t),[i(0),i(1)]}return null}function i(t,n,i){var a=r(t),o=r(n),s=null;function u(e,t,n){return{path:e,isStart:0==n,propertyName:t[n].propertyName,point:t[n].point,oppositePoint:t[1-n].point}}function l(r,i){return!!e.measure.isPointEqual(a[r].point,o[i].point,1e-4)&&(s=[u(t,a,r),u(n,o,i)],!0)}return l(0,0)||l(0,1)||l(1,0)||l(1,1),s}function a(n,r,i,a){for(var o=new e.paths.Circle(r,n),s=0;s<2;s++){var u=t.intersection(o,i[s].path);if(!u)return!1;if(i[s].shardPoint=u.intersectionPoints[0],e.measure.isPointEqual(i[s].point,u.intersectionPoints[0],1e-4)){if(!(u.intersectionPoints.length>1))return!1;i[s].shardPoint=u.intersectionPoints[1]}}return!0}n[e.pathType.Arc]=function(e){return["startAngle","endAngle"]},n[e.pathType.Line]=function(e){return["origin","end"]};var o={};function s(e,t,n){var r=null,i=o[e.path.type];return i&&(r=i(e.path,t,n,e.shardPoint,e.isStart)),r}o[e.pathType.Arc]=function(n,r,i,a,o){var s=n.radius,u=function(e,n){var r=t.clone(e);return[r,t.breakAtPoint(r,n)]}(n,a)[o?0:1];return u?(e.measure.isArcConcaveTowardsPoint(u,i)?s-=r:s+=r,e.round(s)<=0?null:new e.paths.Arc(n.origin,s,n.startAngle,n.endAngle)):null},o[e.pathType.Line]=function(t,n,r,i,a){return new e.paths.Parallel(t,n,r)};var u={};function l(e,t,n){var r=null,i=u[e.path.type];return i&&(r=i(e.path,e.propertyName,t,n)),p(e,r)||(r=null),r}function c(t,n){var r={filletAngle:e.angle.ofPointInDegrees(n,t.shardPoint),clipPath:function(){t.path[t.propertyName]=t.shardPoint}};return p(t,r)||(r=null),r}function p(t,n){var r=!1;if(n){var i=t.path[t.propertyName];n.clipPath(),e.measure.pathLength(t.path)>0&&(r=!0),t.path[t.propertyName]=i}return r}u[e.pathType.Arc]=function(t,n,r,i){var a=new e.paths.Line(t.origin,i),o=e.angle.ofLineInDegrees(a),s=o;return e.measure.isArcConcaveTowardsPoint(t,i)||(s+=180),{filletAngle:e.angle.noRevolutions(s),clipPath:function(){t[n]=o}}},u[e.pathType.Line]=function(n,r,i,a){var o=new e.paths.Line([0,0],[0,1]),s=e.angle.ofLineInDegrees(n);t.rotate(o,s,[0,0]),t.moveRelative(o,a);var u=e.point.fromSlopeIntersection(n,o);return u?{filletAngle:e.angle.ofPointInDegrees(a,u),clipPath:function(){n[r]=u}}:null},t.dogbone=function(t,n,r,o){if(e.isPathLine(t)&&e.isPathLine(n)&&r&&r>0){var s={pointMatchingDistance:.005};e.extendObject(s,o);var u=i(t,n);if(u){var l=function(t){for(var n=0,r=[],i=0;i<t.length;i++){var a=e.measure.pathLength(t[i]);r.push(a),n+=a}return r[0]/n}([t,n]),p=new e.paths.Line(u[0].oppositePoint,u[1].oppositePoint),h=e.point.middle(p,l),f=e.angle.ofPointInDegrees(u[0].point,h),d=e.point.add(u[0].point,e.point.fromPolar(e.angle.toRadians(f),r));if(!a(r,d,u))return null;for(var v=[],g=0;g<2;g++){var m=c(u[g],d);if(!m)return null;v.push(m)}var y=new e.paths.Arc(d,r,v[0].filletAngle,v[1].filletAngle);return e.round(e.angle.noRevolutions(e.angle.ofArcMiddle(y)))==e.round(f)&&(y.startAngle=v[1].filletAngle,y.endAngle=v[0].filletAngle),v[0].clipPath(),v[1].clipPath(),y}}return null},t.fillet=function(n,r,o,u){if(n&&r&&o&&o>0){var c={pointMatchingDistance:.005};e.extendObject(c,u);var p=i(n,r);if(p){if(!a(o,p[0].point,p))return null;for(var h=[],f=0;f<2;f++){var d=p[1-f].shardPoint;if(!d)return null;var v=s(p[f],o,d);h.push(v)}var g=t.intersection(h[0],h[1]);if(g){var m;m=1==g.intersectionPoints.length?g.intersectionPoints[0]:e.point.closest(p[0].point,g.intersectionPoints);var y=[];for(f=0;f<2;f++){var k=l(p[f],o,m);if(!k)return null;y.push(k)}if(0==e.round(y[0].filletAngle-y[1].filletAngle))return null;var P=new e.paths.Arc(m,o,y[0].filletAngle,y[1].filletAngle),A=e.angle.ofArcSpan(P);return 180==A?null:(A>180&&(P.startAngle=y[1].filletAngle,P.endAngle=y[0].filletAngle),y[0].clipPath(),y[1].clipPath(),P)}}}return null}}(e.path||(e.path={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(t,n,r){var i={paths:{}},a=0,o=n.links;function s(n,s){var u=o[n].walkedPath,l=o[s].walkedPath;u.modelContext===l.modelContext&&u.modelContext.type==e.models.BezierCurve.typeName||e.path.moveTemporary([u.pathContext,l.pathContext],[u.offset,l.offset],(function(){var c,p;if(e.isObject(r)){var h=e.angle.ofChainLinkJoint(o[n],o[s]);if(0===e.round(h))return;c=h>0?r.left:r.right}else c=r;!c||c<0||(p=t?e.path.fillet(u.pathContext,l.pathContext,c):e.path.dogbone(u.pathContext,l.pathContext,c))&&(i.paths["fillet"+a]=p,a++)}))}for(var u=1;u<o.length;u++)s(u-1,u);return n.endless&&s(u-1,0),a?i:null}t.dogbone=function(e,t){return n(!1,e,t)},t.fillet=function(e,t){return n(!0,e,t)}}(e.chain||(e.chain={}))}(MakerJs||(MakerJs={})),function(e){!function(e){e.construct=function(e,t){function n(){return e.apply(this,t)}return n.prototype=e.prototype,new n},e.getParameterValues=function(e){var t=[],n=e.metaParameters;if(n)for(var r=0;r<n.length;r++){var i=n[r].value;Array.isArray(i)&&(i=i[0]),t.push(i)}return t}}(e.kit||(e.kit={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t){var n=t===e.reversed?1:0;return e.endPoints[n]}function r(r){for(var a,o,s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];switch(s.length){case 1:"function"==typeof s[0]?o=s[0]:a=s[0];break;case 2:o=s[0],a=s[1]}var l={pointMatchingDistance:.005};e.extendObject(l,a);var c,p={},h={},f={},d={onPath:function(t){var n=l.byLayers?t.layer:"";p[n]||(p[n]=new e.PointGraph);var r=p[n],i=e.measure.pathLength(t.pathContext);if(t.pathContext.type===e.pathType.Circle||t.pathContext.type===e.pathType.Arc&&0===e.round(e.angle.ofArcSpan(t.pathContext)-360)||t.pathContext.type===e.pathType.BezierSeed&&e.measure.isPointEqual(t.pathContext.origin,t.pathContext.end,l.pointMatchingDistance)){var a={links:[{walkedPath:t,reversed:null,endPoints:null,pathLength:i}],endless:!0,pathLength:i};h[n]||(h[n]=[]),h[n].push(a)}else{if(i<l.pointMatchingDistance/5)return f[n]||(f[n]=[]),void f[n].push(t);for(var o=e.point.fromPathEnds(t.pathContext,t.offset),s=0;s<2;s++){var u={walkedPath:t,endPoints:o,reversed:0!=s,pathLength:i},c=r.insertValue(u);r.insertValueIdAtPoint(c,o[s])}}}};l.shallow&&(d.beforeChildWalk=function(){return!1}),l.unifyBeziers&&(c=function(n){var r=[];function i(t){t.childModel.type===e.models.BezierCurve.typeName&&r.push(t)}var a={beforeChildWalk:function(e){return i(e),!0}},o={childId:"",childModel:n,layer:n.layer,offset:n.origin,parentModel:null,route:[],routeKey:""};return i(o),t.walk(n,a),r}(r),i(c,!0,l.pointMatchingDistance)),t.walk(r,d);var v,g,m,y=function(t){var r=p[t];r.mergeNearestSinglePoints(l.pointMatchingDistance),v=[],h[t]||(h[t]=[]),function(e,t,n){function r(t,n,r){for(;t;){n.links.push(t),n.pathLength+=t.pathLength;var i=t.reversed?0:1,a=t.endPoints[i],o=e.getElementAtPoint(a);if(!o||0===o.valueIds.length)break;var s=(u=o.valueIds.map((function(t){return e.values[t]})),l=t.walkedPath.pathContext,u[0].walkedPath.pathContext===l?u[1]:u[0]);if(o.valueIds.splice(0,2),!s)break;if(s.walkedPath.pathContext===r.walkedPath.pathContext){n.links.length>1&&(n.endless=!0);break}t=s}var u,l}e.forEachPoint((function(e,i,a,o){if(o.valueIds.length>0){var s={links:[],pathLength:0};if(r(i[0],s,i[0]),s.endless)t(s,!1);else{s.links.reverse();var u=s.links[0];s.links.map((function(e){e.reversed=!e.reversed})),s.pathLength-=s.links[s.links.length-1].pathLength,r(s.links.pop(),s,u),s.links.length>1?t(s,!0):n(s.links[0].walkedPath)}}}))}(r,(function(r,i){r.endless=i?e.measure.isPointEqual(n(r.links[0],!0),n(r.links[r.links.length-1],!1),l.pointMatchingDistance):!!r.endless,h[t].push(r)}),(function(e){v.push(e)})),h[t].sort((function(e,t){return t.pathLength-e.pathLength})),l.contain&&(g=e.isObject(l.contain)?l.contain:{alternateDirection:!1},m=function(t,n){var r=t.map((function(t){return e.chain.toNewModel(t)})),i=[];t.forEach((function(n,a){if(n.endless){var o=n.links[0].walkedPath,s=e.path.clone(o.pathContext,o.offset);t.forEach((function(t,o){n!==t&&t.endless&&e.measure.isPointInsideModel(e.point.middle(s),r[o])&&(i[a]=t)}))}}));var a=[];if(t.forEach((function(e,t){var n=i[t];n?(n.contains||(n.contains=[]),n.contains.push(e)):a.push(e)})),n.alternateDirection){function o(t,n){t.forEach((function(t,r){var i=e.measure.isChainClockwise(t);null!==i&&(!i&&n||i&&!n)&&e.chain.reverse(t),t.contains&&o(t.contains,!n)}))}o(a,!0)}return a}(h[t],g),h[t]=m),o&&o(h[t],v,t,f[t])};for(var k in p)y(k);return c&&i(c,!1,l.pointMatchingDistance),l.byLayers?h:h[""]}function i(t,n,r){var i="tempPaths",a="tempLayer";t.forEach((function(t){var o=t.childModel;if(n){null!=t.layer&&""!==t.layer&&(o[a]=o.layer,o.layer=t.layer);var s=e.models.BezierCurve.getBezierSeeds(o,{byLayers:!0,pointMatchingDistance:r});for(var u in s){var l=s[u];if(l.length>0){o[i]=o.paths;var c={};l.forEach((function(e,t){e.layer=u,c["seed_"+t]=e})),o.paths=c}}}else i in o&&(o.paths=o[i],delete o[i]),a in o&&(null==o[a]?delete o.layer:o.layer=o[a],delete o[a])}))}t.findSingleChain=function(e){var t=null;return r(e,(function(e,n,r){t=e[0]}),{byLayers:!1}),t},t.findChains=r}(e.model||(e.model={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t){if(void 0===t&&(t=1),e.endless){for(var n=Math.abs(t),r=0;r<n;r++)t<0?e.links.push(e.links.shift()):e.links.unshift(e.links.pop());return e}}function r(t,n){!t||n.length<2||e.measure.isPointEqual(n[0],n[n.length-1],1e-5)&&n.pop()}t.cycle=n,t.reverse=function(e){return e.links.reverse(),e.links.forEach((function(e){return e.reversed=!e.reversed})),e},t.startAt=function(e,t){if(e.endless){for(var r=-1,i=0;i<e.links.length;i++)if(e.links[i].walkedPath.routeKey==t){r=i;break}return r>0&&n(e,r),e}},t.toNewModel=function(t,n){void 0===n&&(n=!1);for(var r={paths:{}},i=0;i<t.links.length;i++){var a=t.links[i].walkedPath;if(a.pathContext.type===e.pathType.BezierSeed){n&&delete a.modelContext.paths[a.pathId],r.models||(r.models={});var o=e.model.getSimilarModelId(r,a.pathId);r.models[o]=e.model.moveRelative(new e.models.BezierCurve(a.pathContext),a.offset)}else{var s;n?(s=a.pathContext,delete a.modelContext.paths[a.pathId]):s=e.path.clone(a.pathContext);var u=e.model.getSimilarPathId(r,a.pathId);r.paths[u]=e.path.moveRelative(s,a.offset)}}return r},t.toPoints=function(t,n,i){var a,o=[],s=0,u=0;Array.isArray(n)&&(a=n);for(var l=0;l<t.links.length;l++){for(var c=t.links[l],p=c.walkedPath,h=c.pathLength;e.round(h-u)>0;){var f,d=u/h;if(c.reversed&&(d=1-d),o.push(e.point.add(e.point.middle(p.pathContext,d),p.offset)),i&&o.length>=i)return o;if(a){if(f=a[s],++s>a.length)return o}else f=n;u+=f}u-=h}return r(t.endless,o),o},t.toKeyPoints=function(t,n){for(var i=[],a=0;a<t.links.length;a++){var o=t.links[a],s=o.walkedPath,u=e.path.toKeyPoints(s.pathContext,n);if(u.length>0){o.reversed&&u.reverse(),a>0&&u.shift();var l=u.map((function(t){return e.point.add(t,s.offset)}));i.push.apply(i,l)}}return r(t.endless,i),i}}(e.chain||(e.chain={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(){function n(t,n){this.modelContext=t,this.options=n,this.pointMap=new e.PointGraph,this.list=[],this.removed=[],this.ordinals={},this.load()}return n.prototype.load=function(){var n=this,r={onPath:function(t){var r=e.point.fromPathEnds(t.pathContext,t.offset);if(r){var i=t;i.endPoints=r;for(var a=n.pointMap.insertValue(i),o=2;o--;)n.pointMap.insertValueIdAtPoint(a,r[o])}}};t.walk(this.modelContext,r),this.options.pointMatchingDistance&&this.pointMap.mergePoints(this.options.pointMatchingDistance)},n.prototype.findDeadEnds=function(){var e=this,t=0;this.pointMap.forEachPoint((function(n,r,i,a){e.ordinals[i]=t++,e.list.push(a)})),t=0;for(var n=function(){var n=r.list[t];1===n.valueIds.length?r.removePath(n,n.valueIds[0],t):r.options.keep&&n.valueIds.length%2&&n.valueIds.forEach((function(r){var i=e.pointMap.values[r];e.options.keep(i)||e.removePath(n,r,t)})),t++},r=this;t<this.list.length;)n();return this.removed},n.prototype.removePath=function(e,t,n){var r=this.pointMap.values[t],i=this.getOtherPointId(r.endPoints,e.pointId),a=this.pointMap.index[i];this.removed.push(r),this.removeValue(e,t),this.removeValue(a,t),a.valueIds.length>0&&this.appendQueue(a,n)},n.prototype.removeValue=function(e,t){var n=e.valueIds.indexOf(t);n>=0&&e.valueIds.splice(n,1)},n.prototype.appendQueue=function(e,t){var n=this.ordinals[e.pointId];n<t&&(this.list[n]=null,this.list.push(e),this.ordinals[e.pointId]=this.list.length)},n.prototype.getOtherPointId=function(e,t){for(var n=0;n<e.length;n++){var r=this.pointMap.getIdOfPoint(e[n]);if(t!==r)return r}},n}();t.removeDeadEnds=function(e,t,r,i){var a=new n(e,{pointMatchingDistance:t||.005,keep:r}),o=a.findDeadEnds();return o.length<a.pointMap.values.length&&o.forEach((function(e){i(e,"dead end"),delete e.modelContext.paths[e.pathId]})),e}}(e.model||(e.model={}))}(MakerJs||(MakerJs={})),function(e){!function(e){var t=function(){function e(e,t){this.name=e,this.attrs=t,this.innerText=""}return e.escapeString=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};for(var n in t)e=e.split(n).join(t[n]);return e},e.prototype.getOpeningTag=function(t){var n,r,i="";for(var a in this.attrs)n=a,null!=(r=this.attrs[a])&&void 0!==r&&((Array.isArray(r)||"object"==typeof r)&&(r=JSON.stringify(r)),"string"==typeof r&&(r=e.escapeString(r)),i+=" "+n+'="'+r+'"');return"<"+this.name+i+(t?"/":"")+">"},e.prototype.getInnerText=function(){return this.innerTextEscaped?this.innerText:e.escapeString(this.innerText)},e.prototype.getClosingTag=function(){return"</"+this.name+">"},e.prototype.toString=function(){return!this.innerText&&!this.closingTags?this.getOpeningTag(!0):this.getOpeningTag(!1)+this.getInnerText()+this.getClosingTag()},e}();e.XmlTag=t}(e.exporter||(e.exporter={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(e,t,n){return n?e+"("+t+")":t}function r(t,n){if(n){var r=new e.paths.Circle([0,0],t.radius),i=e.measure.pathLength(r);if(i)return Math.ceil(i/n)}}function i(t,i,a){var o="",s="",u=!0,l=!1,c=!1,p={};p[e.pathType.Circle]=function(t,s){var u={center:e.point.rounded(e.point.add(t.origin,s.walkedPath.offset),a),radius:e.round(t.radius,a),resolution:r(t,i)};o=n("CAG.circle",JSON.stringify(u),!0),l=!0},p[e.pathType.Line]=function(t,r){var i=r.endPoints.map((function(t){return e.point.rounded(t,a)}));r.reversed&&i.reverse(),o=n("new CSG.Path2D",JSON.stringify(i),!0)},p[e.pathType.Arc]=function(t,s){var u=e.angle.ofArcEnd(t);s.reversed&&(c=!0);var l={center:e.point.rounded(e.point.add(t.origin,s.walkedPath.offset),a),radius:e.round(t.radius,a),startangle:e.round(t.startAngle,a),endangle:e.round(u,a),resolution:r(t,i)};o=n("new CSG.Path2D.arc",JSON.stringify(l),!0)};var h={};function f(e){c?s=e+s:s+=e}h[e.pathType.Line]=function(t,r){var i=c!=r.reversed,o=e.point.rounded(r.endPoints[i?0:1],a);f(n(".appendPoint",JSON.stringify(o),!0))},h[e.pathType.Arc]=function(t,o){var s=c!=o.reversed,u=e.angle.ofArcEnd(t),l={radius:e.round(t.radius,a),clockwise:s,large:Math.abs(u-t.startAngle)>180,resolution:r(t,i)},p=e.point.rounded(o.endPoints[s?0:1],a);f(n(".appendArc",JSON.stringify(p)+","+JSON.stringify(l),!0))};for(var d=0;d<t.links.length;d++){var v=t.links[d],g=v.walkedPath.pathContext,m=u?p[g.type]:h[g.type];if(m&&m(g,v),l)return o;u=!1}return o+s+".close().innerToCAG()"}function a(e,t,n){return function(r){e&&e({progress:t+r.progress*n/100})}}function o(t,n,r){return s((function(n,r){var i=e.chain.toKeyPoints(n,r);return i.push(i[0]),t.fromPoints(i)}),(function(e,t){return e.union(t)}),(function(e,t){return e.subtract(t)}),n,r)}function s(t,n,r,i,a){void 0===a&&(a={});var o={},s={total:0,complete:0};function u(e,t,r){var i=r.shift();return r.forEach((function(e){return i=n(i,e)})),s.complete++,a.statusCallback&&a.statusCallback({progress:e+t*s.complete/s.total}),i}function l(e,n){n.forEach((function(n){if(n.endless){var r={cag:t(n,a.maxArcFacet),subtracts:[]};if(n.contains){var i=function(e,n){var r=[];return n.forEach((function(n){n.endless&&(n.contains&&l(e,n.contains),s.total++,r.unshift(t(n,a.maxArcFacet)))})),r}(e,n.contains);i.length>0&&r.subtracts.push(i)}s.total++,e in o||(o[e]=[]),o[e].unshift(r)}}))}var c={pointMatchingDistance:a.pointMatchingDistance,byLayers:a.byLayers,contain:!0};a.statusCallback&&a.statusCallback({progress:25});var p=e.model.findChains(i,c);if(Array.isArray(p))l("",p);else for(var h in p)l(h,p[h]);a.statusCallback&&a.statusCallback({progress:50});var f=0;for(var h in o)f+=o[h].length;if(0===f)throw a.statusCallback&&a.statusCallback({progress:100}),"No closed geometries found.";var d={};for(var h in o){var v=o[h].map((function(e){var t=e.cag;return e.subtracts.forEach((function(e){var n=u(50,50,e);t=r(t,n)})),t}));d[h]=u(50,50,v)}return a.statusCallback&&a.statusCallback({progress:100}),c.byLayers?d:d[""]}function u(e,t,n){return l((function(n){return o(e,t,n)}),(function(e,t,n){var r=e.extrude({offset:[0,0,t]});return n&&(r=r.translate([0,0,n])),r}),(function(e,t){return e.union(t)}),t,n)}function l(t,n,r,i,o){void 0===o&&(o={});var s=o.statusCallback;i.exporterOptions&&e.extendObject(o,i.exporterOptions.toJscadCSG),o.byLayers=o.byLayers||o.layerOptions&&!0,o.statusCallback=a(s,0,50);var u,l,c=t(o),p=[];if(o.byLayers)for(var h in c){var f=o.layerOptions[h],d=n(c[h],f.extrude||o.extrude,(u=f.z,l=o.z,e.isNumber(u)?u:l));p.push(d)}else{d=n(c,o.extrude,o.z);p.push(d)}o.statusCallback=a(s,50,100);var v={total:p.length-1,complete:0},g=p.shift();return p.forEach((function(e,t){g=r(g,e),v.complete++,o.statusCallback({progress:v.complete/v.total})})),g}t.toJscadCAG=o,t.toJscadCSG=u,t.toJscadScript=function(e,t){function n(e,n){return o(i(e,n,t.accuracy))}function r(e,t){return e+".union(".concat(t,")")}function a(e,t){return e+".subtract(".concat(t,")")}function o(e){return"".concat(c).concat(u).concat(e).concat(c)}void 0===t&&(t={});var u=new Array((t.indent||0)+1).join(" "),c=t.indent?"\n":"",p=l((function(i){return s(n,r,a,e,t)}),(function(e,t,n){var r=e+".extrude({ offset: [0, 0, ".concat(t,"] })");return n&&(r+=".translate([0, 0, ".concat(n,"])")),r}),r,e,t).trim();return"function ".concat(t.functionName||"main","(){").concat(o("return ".concat(p,";")),"}").concat(c)},t.toJscadSTL=function(e,t,n,r){var i=r.statusCallback;r.statusCallback=a(i,0,50);var o=u(e,n,r);return t.serialize(o,{binary:!1,statusCallback:a(i,50,50)})}}(e.exporter||(e.exporter={}))}(MakerJs||(MakerJs={})),function(e){!function(t){t.toPDF=function(n,r,i){if(r){var a={fontName:"Courier",fontSize:9,origin:[0,0],stroke:"#000"};e.extendObject(a,i);var o=1,s=a.units||r.units;o=s?e.units.conversionScale(s,e.unitType.Inch):.01,o*=72;var u=e.model.scale(e.cloneObject(r),o),l=e.measure.modelExtents(u),c=[-l.low[0],l.high[1]];c=e.point.add(c,a.origin),e.model.findChains(u,(function(r,i,o){function s(e){var r=t.pathToSVGPathData(e.pathContext,e.offset,c);n.path(r).stroke(a.stroke)}r.map((function(r){if(r.links.length>1){var i=t.chainToSVGPathData(r,c);n.path(i).stroke(a.stroke)}else{var o,u=r.links[0].walkedPath;if(u.pathContext.type===e.pathType.Circle)e.path.moveTemporary([u.pathContext],[u.offset],(function(){o=e.path.mirror(u.pathContext,!1,!0)})),e.path.moveRelative(o,c),n.circle(o.origin[0],o.origin[1],u.pathContext.radius).stroke(a.stroke);else s(u)}})),i.map(s)}),{byLayers:!1}),n.font(a.fontName).fontSize(a.fontSize),e.model.getAllCaptionsOffset(u).forEach((function(t){var r=e.angle.ofLineInDegrees(t.anchor),i=e.path.mirror(t.anchor,!1,!0);e.path.moveRelative(i,c);var a=t.text,o=[n.widthOfString(a)/2,n.heightOfString(a)/2],s=e.point.middle(i),u=e.point.subtract(s,o);n.rotate(-r,{origin:s}),n.text(a,u[0],u[1]),n.rotate(r,{origin:s})}))}}}(e.exporter||(e.exporter={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n={};function r(t){return e.point.mirror(t,!1,!0)}function i(t){var n=e.angle.ofArcSpan(t);t.startAngle=e.angle.noRevolutions(t.startAngle),t.endAngle=t.startAngle+n}function a(t,i,a){function o(t){return e.point.add(t,i)}for(var s=t.links[0],u=o(r(s.endPoints[s.reversed?1:0])),l=["M",e.round(u[0],a),e.round(u[1],a)],c=0;c<t.links.length;c++){var p,h=t.links[c],f=h.walkedPath.pathContext,d=n[f.type];if(d)e.path.moveTemporary([f],[h.walkedPath.offset],(function(){p=e.path.mirror(f,!1,!0)})),e.path.moveRelative(p,i),d(p,o(r(h.endPoints[h.reversed?0:1])),h.reversed,l,a)}return t.endless&&l.push("Z"),l.join(" ")}function o(t,n,r){return["M",e.round(t[0],r),e.round(t[1],r)].concat(n)}n[e.pathType.Arc]=function(t,n,r,i,a){i.push("A"),h(i,t.radius,n,a,e.angle.ofArcSpan(t)>180,r?t.startAngle>t.endAngle:t.startAngle<t.endAngle)},n[e.pathType.Line]=function(t,n,r,i,a){i.push("L",e.round(n[0],a),e.round(n[1],a))},n[e.pathType.BezierSeed]=function(e,t,n,r,i){p(r,e,i,n)},t.chainToSVGPathData=a;var s={};function u(t,n,r,i,a){var o,u=s[t.type];return u?(e.path.moveTemporary([t],[n],(function(){o=e.path.mirror(t,!1,!0)})),e.path.moveRelative(o,r),u(o,i,a).join(" ")):""}function l(t,n,r,i){var o={};return r.unifyBeziers=!0,e.model.findChains(t,(function(e,t,r){function s(e,t){var a=u(e.pathContext,e.offset,n,i,t);o[r].push(a)}o[r]=[],function e(t,u){t.forEach((function(t){if(t.links.length>1){var l=a(t,n,i);o[r].push(l)}else s(t.links[0].walkedPath,u);t.contains&&e(t.contains,!u)}))}(e,!0),t.forEach((function(e){return s(e)}))}),r),o}function c(t,n,r){var i=e.round(t,n),a=["m",-i,0];function o(e){a.push("a"),h(a,i,[2*i*e,0],n,!1,!r)}return o(1),o(-1),a.push("z"),a}function p(t,n,r,i){if(1===n.controls.length)t.push("Q",e.round(n.controls[0][0],r),e.round(n.controls[0][1],r));else{var a=i?[n.controls[1],n.controls[0]]:n.controls;t.push("C",e.round(a[0][0],r),e.round(a[0][1],r),e.round(a[1][0],r),e.round(a[1][1],r))}var o=i?n.origin:n.end;t.push(e.round(o[0],r),e.round(o[1],r))}function h(t,n,r,i,a,o){var s=e.round(n,i),u=r;t.push(s,s),t.push(0),t.push(a?1:0),t.push(o?0:1),t.push(e.round(u[0],i),e.round(u[1],i))}s[e.pathType.Line]=function(t,n){return o(t.origin,e.point.rounded(t.end,n),n)},s[e.pathType.Circle]=function(e,t,n){return o(e.origin,c(e.radius,t,n),t)},s[e.pathType.Arc]=function(t,n){i(t);var r=e.point.fromArc(t);if(e.measure.isPointEqual(r[0],r[1]))return s[e.pathType.Circle](t,n);var a=["A"];return h(a,t.radius,r[1],n,e.angle.ofArcSpan(t)>180,t.startAngle>t.endAngle),o(r[0],a,n)},s[e.pathType.BezierSeed]=function(e,t){var n=[];return p(n,e,t),o(e.origin,n,t)},t.pathToSVGPathData=u,t.toSVGPathData=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i={fillRule:"evenodd"};"boolean"==typeof n[0]?(i.byLayers=n[0],i.origin=n[1],i.accuracy=n[2]):e.isObject(n[0])&&e.extendObject(i,n[0]);var a={byLayers:i.byLayers,contain:!1};"nonzero"===i.fillRule&&(a.contain={alternateDirection:!0});var o=e.measure.modelExtents(t);i.origin||(i.origin=[-o.low[0],o.high[1]]);var s=l(t,i.origin,a,i.accuracy),u={};for(var c in s)u[c]=s[c].join(" ");return a.byLayers?u:u[""]},t.toSVG=function(n,a){function o(e,t,n){void 0===n&&(n=!1),!n&&"string"==typeof t&&t.length>0?(t in P||(P[t]=[]),P[t].push(e)):k.push(e)}function s(e){var t=[];function n(e,n){void 0!==n&&t.push(e+":"+n)}return n("stroke",e.stroke),n("stroke-width",e.strokeWidth),n("fill",e.fill),t.join(";")}function u(t,n){n&&e.extendObject(t,{stroke:n.stroke,"stroke-width":n.strokeWidth,fill:n.fill,style:n.cssStyle||s(n),class:n.className})}function f(e){return m.layerOptions&&m.layerOptions[e]?m.layerOptions[e]:e in t.colors?{stroke:e}:void 0}function d(e,n,r,i,a){void 0===i&&(i=null),void 0===a&&(a=!1),"text"!==e&&u(n,f(r)),m.scalingStroke||(n["vector-effect"]="non-scaling-stroke");var s=new t.XmlTag(e,n);s.closingTags=m.closingTags,i&&(s.innerText=i),o(s.toString(),r,a)}function v(t,n){var r=e.path.mirror(t,!1,!0);return e.path.moveRelative(e.path.scale(r,m.scale),n)}var g,m={accuracy:.001,annotate:!1,origin:null,scale:1,stroke:"#000",strokeLineCap:"round",strokeWidth:"0.25mm",fill:"none",fillRule:"evenodd",fontSize:"9pt",useSvgPathOnly:!0,viewBox:!0};e.extendObject(m,a);var y=e.isModel(n);y&&(g=n).exporterOptions&&e.extendObject(m,g.exporterOptions.toSVG);var k=[],P={};if(y)g=n;else if(Array.isArray(n)){var A={};n.forEach((function(e,t){A[t]=e})),g={paths:A}}else e.isPath(n)&&(g={paths:{modelToMeasure:n}});var M=e.measure.modelExtents(g),x=e.model.getAllCaptionsOffset(g);if(x.forEach((function(t){e.measure.increase(M,e.measure.pathExtents(t.anchor),!0)})),!m.units){var w=t.tryGetModelUnits(n);w&&(m.units=w)}var C=t.svgUnit[m.units];if(C&&m.viewBox&&(m.scale*=C.scaleConversion),M&&!m.origin){var T=-M.low[0]*m.scale;m.origin=[T,M.high[1]*m.scale]}e.extendObject(a,m);var b={};if(M&&m.viewBox){var L=e.round(M.width*m.scale,m.accuracy),J=e.round(M.height*m.scale,m.accuracy),I=[0,0,L,J],S=C?C.svgUnitType:"";b={width:L+S,height:J+S,viewBox:I.join(" ")}}b.xmlns="http://www.w3.org/2000/svg";var E=new t.XmlTag("svg",e.extendObject(b,m.svgAttrs));o(E.getOpeningTag(!1));var O={id:"svgGroup","stroke-linecap":m.strokeLineCap,"fill-rule":m.fillRule,"font-size":m.fontSize};u(O,m);var D=new t.XmlTag("g",O);if(o(D.getOpeningTag(!1)),m.useSvgPathOnly){var z={byLayers:!0};"nonzero"===m.fillRule&&(z.contain={alternateDirection:!0});var R=l(g,m.origin,z,m.accuracy);for(var B in R){var N={d:R[B].join(" ")};B.length>0&&(N.id=B),d("path",N,B,null,!0)}}else{function j(t,n,r){d("text",{id:t+"_text",x:e.round(n[0],m.accuracy),y:e.round(n[1],m.accuracy)},r,t)}function _(t,n,r,i,a,o,s,u,l){d("path",{id:t,"data-route":o,d:["M",e.round(n,m.accuracy),e.round(r,m.accuracy)].concat(i).join(" ")},a),u&&j(t,s,a)}var q={};function U(t,n,r,i,a){var o="flow";q[e.pathType.Circle]("",new e.paths.Circle(r,t.size/2),n,o,null,!1,null);var s=[-1*t.size,t.size/2];[s,e.point.mirror(s,!1,!0)].map((function(t){return new e.paths.Line(e.point.add(e.point.rotate(t,a),i),i)})).forEach((function(t){return q[e.pathType.Line]("",t,n,o,null,!1,null)}))}function K(e,t){V.attrs={id:e},o(V.getOpeningTag(!1),t.layer)}function X(e){o(V.getClosingTag(),e.layer)}q[e.pathType.Line]=function(t,n,r,i,a,o,s){var u=n.origin,l=n.end;d("line",{id:t,class:i,"data-route":a,x1:e.round(u[0],m.accuracy),y1:e.round(u[1],m.accuracy),x2:e.round(l[0],m.accuracy),y2:e.round(l[1],m.accuracy)},r),o&&j(t,e.point.middle(n),r),s&&U(s,r,n.origin,n.end,e.angle.ofLineInDegrees(n))},q[e.pathType.Circle]=function(t,n,r,i,a,o,s){var u=n.origin;d("circle",{id:t,class:i,"data-route":a,r:n.radius,cx:e.round(u[0],m.accuracy),cy:e.round(u[1],m.accuracy)},r),o&&j(t,u,r)},q[e.pathType.Arc]=function(t,n,r,a,o,s,u){i(n);var l=e.point.fromArc(n);if(e.measure.isPointEqual(l[0],l[1]))!function(e,t,n,r,i,a,o){var s=c(n,m.accuracy);_(e,t[0],t[1],s,r,i,t,a)}(t,n.origin,n.radius,r,o,s);else{var p=["A"];h(p,n.radius,l[1],m.accuracy,e.angle.ofArcSpan(n)>180,n.startAngle>n.endAngle),_(t,l[0][0],l[0][1],p,r,o,e.point.middle(n),s),u&&U(u,r,l[1],l[0],e.angle.noRevolutions(n.startAngle-90))}},q[e.pathType.BezierSeed]=function(t,n,r,i,a,o,s){var u=[];p(u,n,m.accuracy),_(t,n.origin[0],n.origin[1],u,r,a,e.point.middle(n),o)};var V=new t.XmlTag("g"),G={beforeChildWalk:function(e){return K(e.childId,e.childModel),!0},onPath:function(t){var n,i,a=q[t.pathContext.type];if(a){var o=e.point.add((n=t.offset,i=r(n),e.point.scale(i,m.scale)),m.origin);a(t.pathId,v(t.pathContext,o),t.layer,null,t.route,m.annotate,m.flow)}},afterChildWalk:function(e){X(e.childModel)}};for(var F in K("0",g),e.model.walk(g,G),P){var W=new t.XmlTag("g",{id:F});u(W.attrs,f(F));for(var H=0;H<P[F].length;H++)W.innerText+=P[F][H];W.innerTextEscaped=!0,o(W.toString())}X(g)}var $=x.map((function(n){var r=v(n.anchor,m.origin),i=e.point.rounded(e.point.middle(r),m.accuracy),a=new t.XmlTag("text",{"alignment-baseline":"middle","text-anchor":"middle",transform:"rotate(".concat(e.angle.ofLineInDegrees(r),",").concat(i[0],",").concat(i[1],")"),x:i[0],y:i[1]});return u(a.attrs,f(n.layer)),a.innerText=n.text,a.toString()}));if($.length){var Y=new t.XmlTag("g",{id:"captions"});u(Y.attrs,f(Y.attrs.id)),Y.innerText=$.join(""),Y.innerTextEscaped=!0,o(Y.toString())}return o(D.getClosingTag()),o(E.getClosingTag()),k.join("")},t.svgUnit={},t.svgUnit[e.unitType.Inch]={svgUnitType:"in",scaleConversion:1},t.svgUnit[e.unitType.Millimeter]={svgUnitType:"mm",scaleConversion:1},t.svgUnit[e.unitType.Centimeter]={svgUnitType:"cm",scaleConversion:1},t.svgUnit[e.unitType.Foot]={svgUnitType:"in",scaleConversion:12},t.svgUnit[e.unitType.Meter]={svgUnitType:"cm",scaleConversion:100}}(e.exporter||(e.exporter={}))}(MakerJs||(MakerJs={})),function(e){!function(t){t.fromSVGPathData=function(n,r){void 0===r&&(r={});var i={};function a(e){i.paths||(i.paths={}),i.paths["p_"+ ++d]=e}function o(e){i.models||(i.models={}),i.models["p_"+ ++d]=e}function s(t,n,r){void 0===n&&(n=0),void 0===r&&(r=t.from),n<0&&(n+=t.data.length);var i=e.point.mirror([t.data[0+n],t.data[1+n]],!1,!0);return t.absolute?i:e.point.add(i,r)}function u(t,n){return e.measure.isPointEqual(t.from,n)||a(new e.paths.Line(t.from,n)),n}for(var l,c,p={M:function(e){if(h=s(e),e.data.length>2){e.from=h;for(var t=2;t<e.data.length;t+=2)e.from=u(e,s(e,t));return e.from}return h},Z:function(e){return u(e,h)},H:function(t){var n=e.point.clone(t.from);return t.absolute?n[0]=t.data[0]:n[0]+=t.data[0],u(t,n)},V:function(t){var n=e.point.clone(t.from);return t.absolute?n[1]=-t.data[0]:n[1]-=t.data[0],u(t,n)},L:function(e){for(var t,n=0;n<e.data.length;n+=2)t=s(e,n),e.from=u(e,t);return e.from},A:function(t){for(var n,i,u,l,c,p,h,f,d,v,g,m=0;m<t.data.length;m+=7)n=t.data[0+m],i=t.data[1+m],u=t.data[2+m],l=1===t.data[3+m],c=1===t.data[4+m],p=s(t,5+m),h=n!==i,f=new e.paths.Line(t.from,e.point.rotate(p,u,t.from)),h&&(f=e.path.distort(f,1,n/i)),d=new e.paths.Arc(f.origin,f.end,n,l,c),h?(n<d.radius&&(n*=v=d.radius/n,i*=v),g=new e.models.EllipticArc(d,1,i/n,r.bezierAccuracy),e.model.rotate(g,-u,t.from),o(g)):(e.path.rotate(d,-u,t.from),a(d)),t.from=p;return p},C:function(t){for(var n,i,a,u=t.from,l=0;l<t.data.length;l+=6)t.from=u,n=s(t,0+l,u),i=s(t,2+l,u),a=s(t,4+l,u),o(new e.models.BezierCurve(u,n,i,a,r.bezierAccuracy)),u=a;return a},S:function(t){var n,i,a,u,l=t.from;i="C"===t.prev.command||"S"===t.prev.command?s(t.prev,-4):t.from;for(var c=0;c<t.data.length;c+=4)t.from=l,n=e.point.rotate(i,180,l),a=s(t,0+c),u=s(t,2+c),o(new e.models.BezierCurve(l,n,a,u,r.bezierAccuracy)),l=u,i=a;return u},Q:function(t){for(var n,i,a=t.from,u=0;u<t.data.length;u+=4)t.from=a,n=s(t,0+u),i=s(t,2+u),o(new e.models.BezierCurve(a,n,i,r.bezierAccuracy)),a=i;return i},T:function(t){var n,i,a;"Q"===t.prev.command?(i=s(t.prev,-4),n=e.point.rotate(i,180,t.from)):"T"===t.prev.command?(t.prev.absolute=!0,n=s(t.prev,-2)):n=t.from;for(var u=0;u<t.data.length;u+=2)a=s(t,0+u),o(new e.models.BezierCurve(t.from,n,a,r.bezierAccuracy)),t.from=a,n=e.point.rotate(n,180,t.from);var l=e.point.mirror(n,!1,!0);return t.data.push.apply(t.data,l),a}},h=[0,0],f=[0,0],d=0,v=/([achlmqstvz])([0-9e\.,\+-\s]*)/gi;null!==(c=v.exec(n));){c.index===v.lastIndex&&v.lastIndex++;var g=c[1],m=c[2],y={command:g.toUpperCase(),data:[],from:f,prev:l};g===y.command&&(y.absolute=!0),y.data=t.parseNumericList(m);var k=p[y.command];k&&(f=k(y)),l=y}return i}}(e.importer||(e.importer={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(t,n){var r=new e.measure.Atlas(t),i=e.measure.modelExtents(t,r),a=i.high[1],o=[],s={},u={beforeChildWalk:function(t){var u=t.childModel,l=r.modelMap[t.routeKey];if(l){var c=e.measure.augment(l);e.model.originate(u,[c.center[0],a*n]);var p=u.origin[0]-i.low[0];s[t.childId]=p;var h=p/i.width;return o.push({childId:t.childId,xRatio:h}),!1}}};e.model.walk(t,u),o.sort((function(e,t){return e.xRatio-t.xRatio}));var l=o[0],c=o[o.length-1];if(o.length>1){var p=l.xRatio,h=c.xRatio-p;o.forEach((function(e){return e.xRatio=(e.xRatio-p)/h}))}return{cpa:o,firstX:s[l.childId],lastX:i.width-s[c.childId]}}function r(t,n,r){n.forEach((function(n){var i=t.models[n.childId];i.origin=n.origin,r&&e.model.rotate(i,n.angle,n.origin)}))}var i={};function a(t,n,r,i){var a,o,s,u={};e.isModel(n)?(o=e.measure.modelExtents,a=u.models={},s=e.model.move):(o=e.measure.pathExtents,a=u.paths={},s=e.path.move);for(var l=o(n),c=l.high[t]-l.low[t],p=0;p<r;p++){var h=[0,0];h[t]=p*(c+i),a[p]=s(e.cloneObject(n),h)}return u}function o(e,t,n){return void 0===n&&(n=0),a(1,e,t,n)}function s(e,t,n){return void 0===n&&(n=0),a(0,e,t,n)}function u(e){return Array.isArray(e)?e:[e,e]}function l(t,n,r,i){for(var a=i(e.isModel(t)?t:{paths:{0:t}}),o={models:{}},u=0;u<r;u++){var l=u%2;o.models[u]=e.model.move(s(t,n+l,a.xMargin),[l*a.x,u*a.y])}return o}i[e.pathType.Arc]=function(t,n,r){var i=e.angle.ofArcSpan(t);r.forEach((function(e){return e.angle=n?t.endAngle-e.xRatio*i-90:t.startAngle+e.xRatio*i+90}))},i[e.pathType.Line]=function(t,n,r){var i=e.angle.ofLineInDegrees(t);r.forEach((function(e){return e.angle=i}))},t.childrenOnPath=function(t,a,o,s,u,l){void 0===o&&(o=0),void 0===s&&(s=!1),void 0===u&&(u=!1),void 0===l&&(l=!0);var c=n(t,o),p=c.cpa,h=a;if(u&&p.length>1){var f=e.measure.pathLength(a);c.firstX+c.lastX<f&&(h=e.path.clone(a),e.path.alterLength(h,-c.firstX,!0),e.path.alterLength(h,-c.lastX))}p.forEach((function(t){return t.origin=e.point.middle(h,s?1-t.xRatio:t.xRatio)}));var d=i[h.type];return d&&d(h,s,p),r(t,p,l),t},t.childrenOnChain=function(t,i,a,o,s,u){void 0===a&&(a=0),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===u&&(u=!0);var l,c=n(t,a),p=c.cpa,h=i.pathLength;if(p.length>1){s&&(h-=c.firstX+c.lastX);var f,d=p.map((function(e){return(o?1-e.xRatio:e.xRatio)*h}));if(o&&d.reverse(),f=d.map((function(e,t){return Math.abs(e-(0==t?0:d[t-1]))})),s?f[0]+=o?c.lastX:c.firstX:f.shift(),(l=e.chain.toPoints(i,f)).length<p.length){var v=i.links[i.links.length-1];l.push(v.endPoints[v.reversed?0:1])}s&&l.shift()}else(l=e.chain.toPoints(i,.5*h)).length=2,l.push(i.links[i.links.length-1].endPoints[i.links[i.links.length-1].reversed?0:1]);o&&l.reverse();var g=function(t,n){var r=new e.paths.Arc([0,0],0,0,0);return t.map((function(i,a){var o;return 0===a?o=e.angle.ofPointInDegrees(i,t[a+1])+90:a===t.length-1?o=e.angle.ofPointInDegrees(t[a-1],i)+90:(r.origin=i,r.startAngle=e.angle.ofPointInDegrees(i,t[a+1]),r.endAngle=e.angle.ofPointInDegrees(i,t[a-1]),o=e.angle.ofArcMiddle(r)),o+n}))}(l,-90);return p.length>1?p.forEach((function(e,t){e.angle=g[t],e.origin=l[t]})):(p[0].angle=g[1],p[0].origin=l[1]),r(t,p,u),t},t.cloneToRadial=function(t,n,r,i){var a,o,s={};e.isModel(t)?(a=s.models={},o=e.model.rotate):(a=s.paths={},o=e.path.rotate);for(var u=0;u<n;u++)a[u]=o(e.cloneObject(t),u*r,i);return s},t.cloneToColumn=o,t.cloneToRow=s,t.cloneToGrid=function(e,t,n,r){var i=u(r);return o(s(e,t,i[0]),n,i[1])},t.cloneToBrick=function(t,n,r,i){var a=u(i);return l(t,n,r,(function(t){var n=e.measure.modelExtents(t),r=a[0]||0,i=a[1]||0;return{x:(n.width+r)/-2,y:n.height+i,xMargin:r}}))},t.cloneToHoneycomb=function(t,n,r,i){return void 0===i&&(i=0),l(t,n,r,(function(t){var n=e.measure.boundingHexagon(t),r=2*e.solvers.equilateralAltitude(n.radius)+i;return{x:r/-2,y:e.solvers.equilateralAltitude(r),xMargin:i}}))}}(e.layout||(e.layout={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n,r=!1;function i(){if(!r)try{Bezier.prototype;r=!0}catch(e){throw"Bezier library not found. If you are using Node, try running 'npm install' or if you are in the browser, download http://pomax.github.io/bezierjs/bezier.js to your website and add a script tag."}}function a(e){var t=[e.origin];t.push.apply(t,e.controls),t.push(e.end);var r=t.map((function(e){return{x:e[0],y:e[1]}}));return n?Bezier.apply(n,r):(i(),n=new Bezier(r)),n}function o(e,t){var n=e.points.map(u),r=new d(n);return t&&(r.parentRange=t),r}function s(e){var t=[];return t.push.apply(t,e.origin),t.push.apply(t,e.controls[0]),e.controls.length>1&&t.push.apply(t,e.controls[1]),t.push.apply(t,e.end),i(),new Bezier(t)}function u(e){return[e.x,e.y]}var l=function(t,n,r){this.t=n,this.point=e.point.add(u(t.get(n)),r)};function c(t,n,r,i,a){var o=r-n;function s(r){var s=n+o*r,l=u(t.get(s)),c=e.point.middle(i,a?1-r:r);return e.measure.pointDistance(c,l)}return s(.25)+s(.75)}function p(t,n,r,i){for(var a,o,s,p=new l(t,n),h=new l(t,r),f=p,d=0,v=h;d<100;){var g=u(t.get((p.t+v.t)/2));try{a=new e.paths.Arc(p.point,g,v.point)}catch(e){if(o)return o;break}if(void 0===s&&(s=e.measure.isPointEqual(p.point,e.point.fromAngleOnCircle(a.endAngle,a))),c(t,n,v.t,a,s)<=i?(a.bezierData={startT:n,endT:v.t},f=v,o=a):h=v,f.t===h.t||o&&o!==a&&e.angle.ofArcSpan(a)-e.angle.ofArcSpan(o)<.5)return o;d++,v=new l(t,(f.t+h.t)/2)}var m=new e.paths.Line(p.point,v.point);return m.bezierData={startT:n,endT:v.t},m}function h(t,n,r,i,a,o){for(var s,u=0;i<a;){i=(s=p(n,i,a,r)).bezierData.endT,e.measure.pathLength(s)<1e-4||(t.paths[s.type+"_"+(o+u)]=s,u++)}return u}function f(t,n,r,i,o){var s=a(t.seed),u=[n.bezierData.startT,n.bezierData.endT].map((function(e){return new l(s,e,i)})),c=r.slice(),p=c.map((function(t){return e.measure.pointDistance(t,u[0].point)}));p[0]>p[1]&&c.reverse();for(var h=2;h--;)if(!e.measure.isPointEqual(c[h],u[h].point,o))return null;return n.bezierData}var d=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];switch(this.type=e.pathType.BezierSeed,t.length){case 1:var r=t[0];this.origin=r[0],3===r.length?(this.controls=[r[1]],this.end=r[2]):4===r.length?(this.controls=[r[1],r[2]],this.end=r[3]):this.end=r[1];break;case 3:Array.isArray(t[1])?this.controls=t[1]:this.controls=[t[1]],this.end=t[2];break;case 4:this.controls=[t[1],t[2]],this.end=t[3]}},v=function(){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.type=t.typeName;var i=Array.isArray(n[0]);switch(n.length){case 2:if(!i){this.seed=n[0],this.accuracy=n[1];break}this.accuracy=n[1];case 1:if(i){var a=n[0];this.seed=new d(a)}else this.seed=n[0];break;default:switch(n.length){case 4:if(e.isPoint(n[3])){this.seed=new d(n);break}this.accuracy=n[3];case 3:i&&(this.seed=new d(n.slice(0,3)));break;case 5:this.accuracy=n[4],this.seed=new d(n.slice(0,4))}}if(this.paths={},e.measure.isBezierSeedLinear(this.seed)){var o=new e.paths.Line(e.point.clone(this.seed.origin),e.point.clone(this.seed.end));return o.bezierData={startT:0,endT:1},void(this.paths={0:o})}var u=s(this.seed),l=function(t){var n=t.extrema().values.map((function(t){return e.round(t)})).filter((function(e,t,n){return n.indexOf(e)===t})).sort();return 0===n.length?[0,1]:(0!==n[0]&&n.unshift(0),1!==n[n.length-1]&&n.push(1),n)}(u);if(this.paths={},!this.accuracy){var c=u.length();this.accuracy=c/100}for(var p=0,f=1;f<l.length;f++){var v=l[f]-l[f-1];p+=h(this,u,this.accuracy*v,l[f-1],l[f],p)}}return t.getBezierSeeds=function(t,n){void 0===n&&(n={}),n.shallow=!0,n.unifyBeziers=!1;var r={},i=function(t,n,i){void 0===i&&(i=!1),r[n]||(r[n]=[]),r[n].push(i?e.path.clone(t):t)};return e.model.findChains(t,(function(r,s,u){r.forEach((function(r){var s=function(t,n,r,i,a){var o=[n.links[0],n.links[n.links.length-1]];o[0].walkedPath.pathContext.bezierData.startT>o[1].walkedPath.pathContext.bezierData.startT&&(e.chain.reverse(n),o.reverse());var s=o.map((function(e){return f(t,e.walkedPath.pathContext,e.endPoints,e.walkedPath.offset,a)})),u={startT:s[0]?s[0].startT:null,endT:s[1]?s[1].endT:null};return null!==u.startT&&null!==u.endT?u:n.links.length>2?(null===u.startT&&(i(n.links[0].walkedPath.pathContext,r,!0),u.startT=n.links[1].walkedPath.pathContext.bezierData.startT),null===u.endT&&(i(n.links[n.links.length-1].walkedPath.pathContext,r,!0),u.endT=n.links[n.links.length-2].walkedPath.pathContext.bezierData.endT),u):null}(t,r,u,i,n.pointMatchingDistance);if(s){var l=a(t.seed).split(s.startT,s.endT);i(o(l),u)}else r.links.forEach((function(e){return i(e.walkedPath.pathContext,u,!0)}))})),s.forEach((function(r){if(r.pathContext.type===e.pathType.Line)return i(r.pathContext,u,!0);var s=f(t,r.pathContext,e.point.fromPathEnds(r.pathContext),r.offset,n.pointMatchingDistance);if(s){var l=a(t.seed).split(s.startT,s.endT);i(o(l),u)}else i(r.pathContext,u,!0)}))}),n),n.byLayers?r:r[""]},t.computeLength=function(e){return s(e).length()},t.computePoint=function(e,t){return u(a(e).compute(t))},t.typeName="BezierCurve",t}();t.BezierCurve=v,v.metaParameters=[{title:"points",type:"select",value:[[[100,0],[-80,-60],[100,220],[100,60]],[[0,0],[100,0],[100,100]],[[0,0],[20,0],[80,100],[100,100]]]}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(t){var n,r=e.angle.ofArcSpan(t),i=(n=e.angle.toRadians(r),Math.tan(n/4)/3*4),a=[t.radius,t.radius*i];return[a,e.point.rotate(e.point.mirror(a,!1,!0),r,[0,0])].map((function(n){return e.point.add(t.origin,e.point.rotate(n,t.startAngle,[0,0]))}))}function r(t){if(e.angle.ofArcSpan(t)<=90){var r=e.point.fromPathEnds(t),i=n(t);return{type:e.pathType.BezierSeed,origin:r[0],controls:i,end:r[1]}}return null}var i=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=this;this.models={};var o,s=e.isPoint(n[0]),u=function(i){switch(i){case 2:s&&(a.origin=n[0]);break;case 3:a.origin=n[0];break;case 4:a.origin=[n[0],n[1]]}for(var u=new e.paths.Arc([0,0],1,0,45),l=0;l<8;l++){var c=r(u);switch(i){case 1:c=e.path.scale(c,n[0]);break;case 2:c=s?e.path.scale(c,n[1]):e.path.distort(c,n[0],n[1]);break;case 3:c=e.path.distort(c,n[1],n[2]);break;case 4:c=e.path.distort(c,n[2],n[3])}a.models["Curve_"+(1+l)]=new t.BezierCurve(c,o),u.startAngle+=45,u.endAngle+=45}};switch(n.length){case 2:u(2);break;case 3:s?u(3):(o=n[2],u(2));break;case 4:s?(o=n[3],u(3)):u(4);break;case 5:o=n[4],u(4)}};t.Ellipse=i,i.metaParameters=[{title:"radiusX",type:"range",min:1,max:50,value:50},{title:"radiusY",type:"range",min:1,max:50,value:25}];var a=function(){for(var n,i,a,o,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];this.models={},e.isPathArc(s[0])?(n=s[0],a=s[1],o=s[2],i=s[3]):(n=new e.paths.Arc([0,0],1,s[0],s[1]),a=s[2],o=s[3],i=s[4]);for(var l=e.angle.ofArcSpan(n),c=Math.ceil(l/45),p=l/c,h=e.path.clone(n),f=0;f<c;f++){h.startAngle=n.startAngle+f*p,h.endAngle=h.startAngle+p;var d=r(h);d=e.path.distort(d,a,o),this.models["Curve_"+(1+f)]=new t.BezierCurve(d,i)}};t.EllipticArc=a,a.metaParameters=[{title:"startAngle",type:"range",min:0,max:90,value:0},{title:"endAngle",type:"range",min:90,max:360,value:180},{title:"radiusX",type:"range",min:1,max:50,value:50},{title:"radiusY",type:"range",min:1,max:50,value:25}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){function n(t){var n;if(Array.isArray(t)){if(e.isPoint(t[0]))return t;n=t}else n=e.importer.parseNumericList(t);for(var r=[],i=0;i<n.length;i+=2)r.push([n[i],n[i+1]]);return r}var r=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i,a,o=this;switch(this.paths={},t.length){case 1:i=!0,a=n(t[0]);break;case 2:i=t[0],a=n(t[1])}for(var s=function(t,n,r){void 0===r&&(r=!1),r&&0==e.measure.pointDistance(a[t],a[n])||(o.paths["ShapeLine"+u]=new e.paths.Line(a[t],a[n]))},u=1;u<a.length;u++)s(u-1,u);i&&a.length>2&&s(a.length-1,0,!0)};t.ConnectTheDots=r,r.metaParameters=[{title:"closed",type:"bool",value:!0},{title:"points",type:"select",value:[[[0,0],[40,40],[60,20],[100,100],[60,60],[40,80]],[[0,0],[100,0],[50,87]],[-10,0,10,0,0,20],"-10 0 10 0 0 20"]}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(){function n(e,r,i,a){this.paths={},this.paths=new t.ConnectTheDots(!0,n.getPoints(e,r,i,a)).paths}return n.circumscribedRadius=function(e,t){return e/Math.cos(t/2)},n.getPoints=function(t,r,i,a){void 0===i&&(i=0),void 0===a&&(a=!1);var o=[],s=e.angle.toRadians(i),u=2*Math.PI/t;a&&(r=n.circumscribedRadius(r,u));for(var l=0;l<t;l++)o.push(e.point.fromPolar(u*l+s,r));return o},n}();t.Polygon=n,n.metaParameters=[{title:"number of sides",type:"range",min:3,max:24,value:6},{title:"radius",type:"range",min:1,max:100,value:50},{title:"offset angle",type:"range",min:0,max:180,value:0},{title:"radius on flats (vs radius on vertexes)",type:"bool",value:!1}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(t,n,r){this.paths={};for(var i=0;i<n.length;i++){var a=r?r[i]:i.toString();this.paths[a]=new e.paths.Circle(n[i],t)}};t.Holes=n,n.metaParameters=[{title:"holeRadius",type:"range",min:.1,max:10,step:.1,value:1},{title:"points",type:"select",value:[[[0,0],[10,10],[20,20],[30,30],[40,40],[50,50],[60,60],[70,70],[80,80]],[[0,0],[0,25],[0,50],[0,75],[0,100],[25,50],[50,50],[75,50],[100,100],[100,75],[100,50],[100,25],[100,0]]]}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(e){var t=function(t,n,r,i){void 0===i&&(i=0),this.paths={};var a=e.Polygon.getPoints(r,t,i),o=a.map((function(e,t){return"bolt "+t}));this.paths=new e.Holes(n,a,o).paths};e.BoltCircle=t,t.metaParameters=[{title:"bolt circle radius",type:"range",min:1,max:100,value:50},{title:"hole radius",type:"range",min:1,max:50,value:5},{title:"bolt count",type:"range",min:3,max:24,value:12},{title:"offset angle",type:"range",min:0,max:180,value:0}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(e){var t=function(t,n,r){this.paths={};var i=[[0,0],[t,0],[t,n],[0,n]];this.paths=new e.Holes(r,i,["BottomLeft_bolt","BottomRight_bolt","TopRight_bolt","TopLeft_bolt"]).paths};e.BoltRectangle=t,t.metaParameters=[{title:"width",type:"range",min:1,max:100,value:100},{title:"height",type:"range",min:1,max:100,value:50},{title:"hole radius",type:"range",min:1,max:50,value:5}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(t,n,r,i,a){void 0===i&&(i=0),void 0===a&&(a=!1),this.paths={};var o,s,u,l,c,p,h=Math.min(n,t)/2;switch(i){case-1:case 1:o=h/2;break;default:o=h*Math.SQRT2/2}switch(r=Math.min(r,o),i){case-1:s=0,u=r,l=0,c=2*r,p=[180,0,0,180];break;case 1:s=r,u=0,l=2*r,c=0,p=[270,270,90,90];break;default:l=c=2*(s=u=r/Math.SQRT2),p=[225,315,45,135]}a?(this.paths.Left=new e.paths.Line([0,0],[0,n-c]),this.paths.Right=new e.paths.Line([t,0],[t,n-c])):(this.paths.Left=new e.paths.Line([0,c],[0,n-c]),this.paths.Right=new e.paths.Line([t,c],[t,n-c]),this.paths.Bottom=new e.paths.Line([l,0],[t-l,0]),this.paths.BottomLeft=new e.paths.Arc([s,u],r,p[0]-90,p[0]+90),this.paths.BottomRight=new e.paths.Arc([t-s,u],r,p[1]-90,p[1]+90)),this.paths.TopRight=new e.paths.Arc([t-s,n-u],r,p[2]-90,p[2]+90),this.paths.TopLeft=new e.paths.Arc([s,n-u],r,p[3]-90,p[3]+90),this.paths.Top=new e.paths.Line([l,n],[t-l,n])};t.Dogbone=n,n.metaParameters=[{title:"width",type:"range",min:1,max:100,value:50},{title:"height",type:"range",min:1,max:100,value:100},{title:"radius",type:"range",min:0,max:50,value:5},{title:"style",type:"select",value:[0,1,-1]},{title:"bottomless",type:"bool",value:!1}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(t,n,r,i){this.paths={};var a=t/2;r<0&&(r=0),void 0===r&&(r=a),r=Math.min(r,a),r=Math.min(r,n);var o=Math.max(a-r,0),s=Math.max(n-r,0);i||(this.paths.Bottom=new e.paths.Line([-a,0],[a,0])),s&&(this.paths.Left=new e.paths.Line([-a,0],[-a,s]),this.paths.Right=new e.paths.Line([a,0],[a,s])),r>0&&(this.paths.TopLeft=new e.paths.Arc([-o,s],r,90,180),this.paths.TopRight=new e.paths.Arc([o,s],r,0,90)),o&&(this.paths.Top=new e.paths.Line([-o,n],[o,n]))};t.Dome=n,n.metaParameters=[{title:"width",type:"range",min:1,max:100,value:50},{title:"height",type:"range",min:1,max:100,value:100},{title:"radius",type:"range",min:0,max:50,value:25},{title:"bottomless",type:"bool",value:!1}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];this.paths={};var a=0;switch(r.length){case 3:t=r[0],n=r[1],a=r[2];break;case 2:a=r[1];case 1:var o=e.measure.modelExtents(r[0]);this.origin=e.point.subtract(o.low,[a,a]),t=o.high[0]-o.low[0]+2*a,n=o.high[1]-o.low[1]+2*a}var s=Math.min(n,t)/2,u=t-(a=Math.min(a,s)),l=n-a;a>0&&(this.paths.BottomLeft=new e.paths.Arc([a,a],a,180,270),this.paths.BottomRight=new e.paths.Arc([u,a],a,270,0),this.paths.TopRight=new e.paths.Arc([u,l],a,0,90),this.paths.TopLeft=new e.paths.Arc([a,l],a,90,180)),u-a>0&&(this.paths.Bottom=new e.paths.Line([a,0],[u,0]),this.paths.Top=new e.paths.Line([u,n],[a,n])),l-a>0&&(this.paths.Right=new e.paths.Line([t,a],[t,l]),this.paths.Left=new e.paths.Line([0,l],[0,a]))};t.RoundRectangle=n,n.metaParameters=[{title:"width",type:"range",min:1,max:100,value:50},{title:"height",type:"range",min:1,max:100,value:100},{title:"radius",type:"range",min:0,max:50,value:11}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(e){var t=function(t,n){this.paths={},this.paths=new e.RoundRectangle(t,n,Math.min(n/2,t/2)).paths};e.Oval=t,t.metaParameters=[{title:"width",type:"range",min:1,max:100,value:50},{title:"height",type:"range",min:1,max:100,value:100}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(t,n,r,i,a,o){void 0===a&&(a=!1),void 0===o&&(o=!1);var s,u=this;if(this.paths={},o&&(s={models:{}},this.models={Caps:s}),!(i<=0||r<=0)&&(t=e.angle.noRevolutions(t),n=e.angle.noRevolutions(n),0!=e.round(t-n))){n<t&&(n+=360);var l=function(t,n,a,l){var c;return o?(c={paths:{}},s.models[t]=c):c=u,c.paths[t]=new e.paths.Arc(e.point.fromPolar(e.angle.toRadians(n),r),i,n+a,n+l)},c=function(i,a){return u.paths[i]=new e.paths.Arc([0,0],r+a,t,n)};c("Outer",i);var p=r-i>0;p&&c("Inner",-i);var h=[];if(h.push(l("StartCap",t,180,0)),h.push(l("EndCap",n,0,180)),e.measure.pointDistance(h[0].origin,h[1].origin)/2<i){var f=e.path.intersection(h[0],h[1]);f&&(p&&a||(h[0].startAngle=f.path1Angles[0],h[1].endAngle=f.path2Angles[0]),!a&&p&&2==f.intersectionPoints.length&&(l("StartCap2",t,180,0).endAngle=f.path1Angles[1],l("EndCap2",n,0,180).startAngle=f.path2Angles[1]+360))}}};t.OvalArc=n,n.metaParameters=[{title:"start angle",type:"range",min:-360,max:360,step:1,value:180},{title:"end angle",type:"range",min:-360,max:360,step:1,value:0},{title:"sweep",type:"range",min:0,max:100,step:1,value:50},{title:"radius",type:"range",min:0,max:100,step:1,value:15},{title:"self intersect",type:"bool",value:!1}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(){for(var n,r,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(this.paths={},2!==i.length||e.isObject(i[0])){var o,s=0;e.isModel(i[0])?(o=e.measure.modelExtents(i[0]),2===i.length&&(s=i[1])):o=i[0],this.origin=e.point.subtract(o.low,[s,s]),n=o.high[0]-o.low[0]+2*s,r=o.high[1]-o.low[1]+2*s}else n=i[0],r=i[1];this.paths=new t.ConnectTheDots(!0,[[0,0],[n,0],[n,r],[0,r]]).paths};t.Rectangle=n,n.metaParameters=[{title:"width",type:"range",min:1,max:100,value:50},{title:"height",type:"range",min:1,max:100,value:100}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(t,n){this.paths={};var r={Ring_outer:t,Ring_inner:n};for(var i in r){var a=r[i];void 0===a||a<=0||(this.paths[i]=new e.paths.Circle(e.point.zero(),a))}};t.Ring=n,n.metaParameters=[{title:"outer radius",type:"range",min:0,max:100,step:1,value:50},{title:"inner radius",type:"range",min:0,max:100,step:1,value:20}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(t,n,r){this.paths={};var i=new e.paths.Arc([0,0],t,0,360),a=new e.paths.Arc([n,0],r,0,360),o=e.solvers.circleTangentAngles(i,a);o?(o=o.sort((function(e,t){return e-t})),i.startAngle=o[0],i.endAngle=o[1],a.startAngle=o[1],a.endAngle=o[0],this.paths.Left=i,this.paths.Right=a,this.paths.Top=new e.paths.Line(e.point.fromAngleOnCircle(o[0],i),e.point.fromAngleOnCircle(o[0],a)),this.paths.Bottom=new e.paths.Line(e.point.fromAngleOnCircle(o[1],i),e.point.fromAngleOnCircle(o[1],a))):this.paths.Belt=new e.paths.Circle(Math.max(t,r))};t.Belt=n,n.metaParameters=[{title:"left radius",type:"range",min:0,max:100,value:30},{title:"distance between centers",type:"range",min:0,max:100,value:50},{title:"right radius",type:"range",min:0,max:100,value:15}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(t,n){function r(e,t){return e+(t*t-e*e)/(2*e)}this.paths={};var i,a,o,s,u=n/2,l=t/2;t>n?(i=r(u,l),a=270,o=360-e.angle.toDegrees(Math.acos(l/i)),s=[0,i]):(i=r(l,u),a=180-e.angle.toDegrees(Math.asin(u/i)),o=180,s=[i,0]);var c=new e.paths.Arc(s,i,a,o);this.paths.curve_start=c,this.paths.curve_end=e.path.moveRelative(e.path.mirror(c,!0,!0),[t,n])};t.SCurve=n,n.metaParameters=[{title:"width",type:"range",min:1,max:100,value:50},{title:"height",type:"range",min:1,max:100,value:100}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(t,n,r,i){void 0===i&&(i=!1);var a,o=this;this.paths={},i&&(a={models:{}},this.models={Caps:a});var s=function(e,t){var n;i?(n={paths:{}},a.models[e]=n):n=o,n.paths[e]=t},u=e.angle.ofPointInDegrees(t,n),l=e.measure.pointDistance(t,n);this.paths.Top=new e.paths.Line([0,r],[l,r]),this.paths.Bottom=new e.paths.Line([0,-r],[l,-r]),s("StartCap",new e.paths.Arc([0,0],r,90,270)),s("EndCap",new e.paths.Arc([l,0],r,270,90)),e.model.rotate(this,u,[0,0]),this.origin=t};t.Slot=n,n.metaParameters=[{title:"origin",type:"select",value:[[0,0],[10,0],[10,10]]},{title:"end",type:"select",value:[[80,0],[0,30],[10,30]]},{title:"radius",type:"range",min:1,max:50,value:10}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(e){var t=function(t){this.paths={},this.paths=new e.Rectangle(t,t).paths};e.Square=t,t.metaParameters=[{title:"side",type:"range",min:1,max:100,value:100}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(e){var t=function(){function t(n,r,i,a){void 0===a&&(a=2),this.paths={},i||(i=r*t.InnerRadiusRatio(n,a));for(var o=e.Polygon.getPoints(n,r),s=e.Polygon.getPoints(n,i,180/n),u=[],l=0;l<n;l++)u.push(o[l]),u.push(s[l]);var c=new e.ConnectTheDots(!0,u);this.paths=c.paths,delete c.paths}return t.InnerRadiusRatio=function(e,t){return e>0&&t>1&&t<e/2?Math.cos(Math.PI*t/e)/Math.cos(Math.PI*(t-1)/e):0},t}();e.Star=t,t.metaParameters=[{title:"number of sides",type:"range",min:3,max:24,value:8},{title:"outer radius",type:"range",min:1,max:100,value:50},{title:"inner radius",type:"range",min:0,max:100,value:15},{title:"skip points (when inner radius is zero)",type:"range",min:0,max:12,value:2}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),function(e){!function(t){var n=function(){function n(t,r,i,a,o,s,u){void 0===a&&(a=!1),void 0===o&&(o=!1);var l=this;this.models={};var c,p,h=0;t.forEachGlyph(r,0,0,i,u,(function(t,r,i,u,f){var d=n.glyphToModel(t,u,s);if(d.origin=[r,0],o&&(d.paths||d.models)){var v=e.measure.modelExtents(d);if(v){var g=v.high[0]-v.low[0];e.model.originate(d,[v.low[0]+g/2,0])}}if(a&&h>0){var m,y={};m=c?{models:{deleted:c,char:p}}:p,e.model.combine(m,d,!1,!0,!1,!0,y),c=y.out_deleted[1]}l.models[h]=d,h++,p=d}))}return n.glyphToModel=function(n,r,i){var a,o,s={},u=0;function l(e){s.models||(s.models={}),s.models["p_"+ ++u]=e}return n.getPath(0,0,r).commands.map((function(n,r){var c=[[n.x,n.y],[n.x1,n.y1],[n.x2,n.y2]].map((function(t){if(void 0!==t[0])return e.point.mirror(t,!1,!0)}));switch(n.type){case"M":a=c[0];break;case"Z":c[0]=a;case"L":e.measure.isPointEqual(o,c[0])||function(e){s.paths||(s.paths={}),s.paths["p_"+ ++u]=e}(new e.paths.Line(o,c[0]));break;case"C":l(new t.BezierCurve(o,c[1],c[2],c[0],i));break;case"Q":l(new t.BezierCurve(o,c[1],c[0],i))}o=c[0]})),s},n}();t.Text=n,n.metaParameters=[{title:"font",type:"font",value:"*"},{title:"text",type:"text",value:"Hello"},{title:"font size",type:"range",min:10,max:200,value:72},{title:"combine",type:"bool",value:!1},{title:"center character origin",type:"bool",value:!1}]}(e.models||(e.models={}))}(MakerJs||(MakerJs={})),MakerJs.version="0.18.1",module.exports=MakerJs},{clone:2,graham_scan:3,kdbush:4}]},{},[]);
